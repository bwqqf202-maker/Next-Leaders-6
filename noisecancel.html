<!DOCTYPE html>
<html lang="ja" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ノイズキャンセリング技術 総合レポート</title>
    <!-- Chosen Palette: Warm Neutrals (Bg: #f5f5f4 (Stone 100), Sidebar: #e7e5e4 (Stone 200), Accent: #1d4ed8 (Blue 700), Text: #1c1917 (Stone 900)) -->
    <!-- Application Structure Plan: 左側に固定ナビゲーション（サイドバー）、右側にスクロール可能なメインコンテンツエリアを持つ、ドキュメント/ダッシュボード型のレイアウトを採用しました。この構造は、ユーザーがリクエストした「スマートミラー」の構成を参考にしつつ、技術的な詳細レポートを探索するのに最適です。ユーザーはサイドバーでレポートの全体像を把握し、クリック一つで関心のあるセクション（「ANCの仕組み」「製品比較」「空間NC」など）へ即座に移動できます。インタラクティブ要素として、「ANCの仕組み」ではタブ切り替えによる図解、「製品比較」ではChart.jsによる動的なグラフを導入し、複雑な情報の理解を促進します。この設計は、情報の網羅性とアクセシビリティを両立させるために選択されました。 -->
    <!-- Visualization & Content Choices: 
        1. レポート情報: ANCの3つの方式（FF, FB, Hybrid）。ゴール: 複雑な動作原理を視覚的に比較・理解させる。手法: HTML/CSS/Tailwindによる簡易ダイアグラムと説明文。対話: JSによるタブ切り替えボタン（FF/FB/Hybrid）。正当化: SVGや画像を使わず、マイクとスピーカーの位置関係という各方式の核心的な違いを明確に示せるため。
        2. レポート情報: 主要NCヘッドホン（Sony, Apple, Bose）の性能比較。ゴール: 主要プレイヤーの強みを定量的に比較する。手法: Chart.jsによる水平棒グラフ（Canvas）。対話: ホバー時のツールチップ表示。正当化: 「ノイズ低減性能」「外音性能」といった複数の指標を視覚的に素早く比較でき、Canvasベースで要件に適合するため。
        3. レポート情報: 奇抜なNC製品（Dyson Zone, Muzoなど）。ゴール: 技術の多様性とユニークな応用例を紹介する。手法: HTML/CSS/Tailwindによるカード型レイアウト。対話: なし（静的な紹介）。正当化: 各製品の情報を視覚的に整理し、読みやすく提示できるため。
        4. レポート情報: 空間ノイズキャンセリング。ゴール: イヤホンとの違い（空間への応用）を理解させる。手法: HTML/CSSによる簡易図解（オフィスの図）と説明文。正当化: 空間的な概念を伝えるには、テキストだけでなくシンプルな視覚的補助が有効なため。 -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap');
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: #f5f5f4;
            color: #1c1917;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 640px; 
            margin-left: auto;
            margin-right: auto;
            height: 320px; 
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
    </style>
</head>
<body class="flex">

    <!-- Sidebar Navigation -->
    <aside class="fixed top-0 left-0 w-64 h-screen bg-e7e5e4 p-6 shadow-lg overflow-y-auto hidden md:block">
        <h1 class="text-xl font-bold text-blue-700 mb-8">NC技術レポート</h1>
        <nav>
            <ul class="space-y-4">
                <li><a href="#section-intro" class="font-medium text-stone-700 hover:text-blue-700 transition-colors duration-200">1. ノイズキャンセリングとは？</a></li>
                <li><a href="#section-mechanism" class="font-medium text-stone-700 hover:text-blue-700 transition-colors duration-200">2. ANCの仕組み (図解)</a></li>
                <li><a href="#section-comparison" class="font-medium text-stone-700 hover:text-blue-700 transition-colors duration-200">3. 製品カテゴリと機能比較</a></li>
                <li><a href="#section-sony" class="font-medium text-stone-700 hover:text-blue-700 transition-colors duration-200">4. ソニーの先進技術</a></li>
                <li><a href="#section-unique" class="font-medium text-stone-700 hover:text-blue-700 transition-colors duration-200">5. 奇抜なNCプロダクト</a></li>
                <li><a href="#section-spatial" class="font-medium text-stone-700 hover:text-blue-700 transition-colors duration-200">6. 空間ノイズキャンセリング</a></li>
                <li><a href="#section-future" class="font-medium text-stone-700 hover:text-blue-700 transition-colors duration-200">7. まとめと未来</a></li>
            </ul>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="ml-0 md:ml-64 p-4 md:p-10 w-full overflow-y-auto">
        <div class="max-w-4xl mx-auto">

            <header class="mb-12 border-b border-stone-300 pb-6">
                <h1 class="text-4xl font-bold text-gray-900 mb-3">ノイズキャンセリング技術 総合レポート</h1>
                <p class="text-lg text-stone-600">イヤホンから空間まで、静寂を生み出すテクノロジーの全貌</p>
            </header>

            <!-- 1. ノイズキャンセリングとは？ -->
            <section id="section-intro" class="mb-12 scroll-mt-20">
                <h2 class="text-3xl font-bold text-blue-700 mb-4">1. ノイズキャンセリングとは？</h2>
                <p class="text-stone-700 leading-relaxed mb-4">
                    ノイズキャンセリング（Noise Cancelling）は、周囲の騒音（ノイズ）を低減または除去する技術の総称です。この技術は、大きく「パッシブノイズキャンセリング（PNC）」と「アクティブノイズキャンセリング（ANC）」の2種類に大別されます。
                </p>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-white p-6 rounded-lg shadow-md border border-stone-200">
                        <h3 class="text-xl font-semibold text-stone-800 mb-2">パッシブ (PNC)</h3>
                        <p class="text-stone-600">物理的な遮音によるノイズ低減です。イヤホンのイヤーピースやヘッドホンのイヤーカップなどで耳を覆い、主に高周波数の音（人の話し声など）を防ぎます。</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md border border-stone-200">
                        <h3 class="text-xl font-semibold text-stone-800 mb-2">アクティブ (ANC)</h3>
                        <p class="text-stone-600">電子的な処理によるノイズ低減です。マイクで周囲の騒音を集め、その音と「逆位相」の音波をスピーカーから発生させます。音が波である性質を利用し、騒音の波と逆の波をぶつけることで、互いを打ち消し合わせ、静寂を生み出します。</p>
                    </div>
                </div>
            </section>

            <!-- 2. ANCの仕組み (図解) -->
            <section id="section-mechanism" class="mb-12 scroll-mt-20">
                <h2 class="text-3xl font-bold text-blue-700 mb-4">2. ANCの仕組み (インタラクティブ図解)</h2>
                <p class="text-stone-700 leading-relaxed mb-6">
                    アクティブノイズキャンセリング（ANC）は、主にマイクの配置と処理方法によって3つの方式に分類されます。下のボタンをクリックして、各方式の動作イメージ図と説明を切り替えてみてください。
                </p>
                
                <div class="flex justify-center space-x-4 mb-6">
                    <button id="btn-ff" class="anc-tab-btn bg-blue-600 text-white px-6 py-2 rounded-lg font-medium shadow hover:bg-blue-700 transition-all">フィードフォワード (FF)</button>
                    <button id="btn-fb" class="anc-tab-btn bg-white text-stone-700 border border-stone-300 px-6 py-2 rounded-lg font-medium shadow hover:bg-stone-50 transition-all">フィードバック (FB)</button>
                    <button id="btn-hybrid" class="anc-tab-btn bg-white text-stone-700 border border-stone-300 px-6 py-2 rounded-lg font-medium shadow hover:bg-stone-50 transition-all">ハイブリッド</button>
                </div>

                <div id="diagram-container" class="bg-white p-6 rounded-lg shadow-lg border border-stone-200 min-h-[300px]">
                    <!-- FF -->
                    <div id="content-ff" class="anc-content">
                        <h3 class="text-xl font-semibold text-stone-800 mb-3">フィードフォワード (FF) 方式</h3>
                        <p class="text-stone-600 mb-4">ヘッドホンの「外側」にあるマイクで騒音を集めます。騒音が耳に届く前に処理できるため、広帯域のノイズに対応しやすいのが特徴です。ただし、風切り音などの影響を受けやすく、自分が出す音（音楽など）のノイズキャンセルはできません。</p>
                        <div class="flex items-center justify-center p-4 bg-stone-50 rounded-md border border-stone-200">
                            <span class="text-sm font-medium text-stone-600 mr-2">騒音</span>
                            <span class="text-2xl text-blue-500">〰</span>
                            <div class="flex flex-col items-center mx-4">
                                <span class="text-xs text-stone-500 mb-1">外側マイク</span>
                                <div class="w-4 h-6 bg-stone-700 rounded-sm"></div>
                            </div>
                            <span class="text-2xl text-orange-500 transform scale-x-[-1]">〰</span>
                            <span class="text-sm font-medium text-stone-600 ml-2 mr-4">逆位相音</span>
                            <div class="w-px h-10 bg-stone-300 mx-4"></div>
                            <div class="flex flex-col items-center">
                                <span class="text-xs text-stone-500 mb-1">耳</span>
                                <div class="w-8 h-8 bg-pink-200 rounded-full"></div>
                            </div>
                        </div>
                    </div>
                    <!-- FB -->
                    <div id="content-fb" class="anc-content hidden">
                        <h3 class="text-xl font-semibold text-stone-800 mb-3">フィードバック (FB) 方式</h3>
                        <p class="text-stone-600 mb-4">ヘッドホンの「内側」（耳に近い側）にあるマイクで騒音を集めます。耳に実際に届いている音を監視するため、高精度なキャンセルが可能です。音楽など再生中の音にかかったノイズも補正できますが、処理できるノイズの周波数帯域はFF方式より狭くなる傾向があります。</p>
                        <div class="flex items-center justify-center p-4 bg-stone-50 rounded-md border border-stone-200">
                            <span class="text-sm font-medium text-stone-600 mr-2">騒音</span>
                            <span class="text-2xl text-blue-500">〰</span>
                            <div class="w-px h-10 bg-stone-300 mx-4"></div>
                            <div class="flex flex-col items-center mr-4">
                                <span class="text-xs text-stone-500 mb-1">耳</span>
                                <div class="w-8 h-8 bg-pink-200 rounded-full relative">
                                    <div class="absolute w-3 h-5 bg-stone-700 rounded-sm -left-2 top-1/2 -translate-y-1/2"></div>
                                    <span class="absolute text-xs text-stone-500 -left-10 top-1/2 -translate-y-1/2">内側マイク</span>
                                </div>
                            </div>
                            <span class="text-2xl text-orange-500 transform scale-x-[-1]">〰</span>
                            <span class="text-sm font-medium text-stone-600 ml-2">逆位相音</span>
                        </div>
                    </div>
                    <!-- Hybrid -->
                    <div id="content-hybrid" class="anc-content hidden">
                        <h3 class="text-xl font-semibold text-stone-800 mb-3">ハイブリッド 方式</h3>
                        <p class="text-stone-600 mb-4">「外側」（FF）と「内側」（FB）の両方にマイクを搭載する方式です。両方式の長所を組み合わせ、より広帯域で高精度なノイズキャンセリングを実現します。コストは高くなりますが、現在の高性能モデルの主流となっています。</p>
                        <div class="flex items-center justify-center p-4 bg-stone-50 rounded-md border border-stone-200">
                            <span class="text-sm font-medium text-stone-600 mr-2">騒音</span>
                            <span class="text-2xl text-blue-500">〰</span>
                            <div class="flex flex-col items-center mx-4">
                                <span class="text-xs text-stone-500 mb-1">外側マイク</span>
                                <div class="w-4 h-6 bg-stone-700 rounded-sm"></div>
                            </div>
                            <div class="w-px h-10 bg-stone-300 mx-4"></div>
                            <div class="flex flex-col items-center mr-4">
                                <span class="text-xs text-stone-500 mb-1">耳</span>
                                <div class="w-8 h-8 bg-pink-200 rounded-full relative">
                                    <div class="absolute w-3 h-5 bg-stone-700 rounded-sm -left-2 top-1/2 -translate-y-1/2"></div>
                                    <span class="absolute text-xs text-stone-500 -left-10 top-1/2 -translate-y-1/2">内側マイク</span>
                                </div>
                            </div>
                             <span class="text-2xl text-orange-500 transform scale-x-[-1]">〰</span>
                            <span class="text-sm font-medium text-stone-600 ml-2">逆位相音</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 3. 製品カテゴリと機能比較 -->
            <section id="section-comparison" class="mb-12 scroll-mt-20">
                <h2 class="text-3xl font-bold text-blue-700 mb-4">3. 製品カテゴリと機能比較</h2>
                <p class="text-stone-700 leading-relaxed mb-6">
                    ノイズキャンセリング技術は、主にコンシューマー向けのイヤホン・ヘッドホン市場で急速に普及しています。ここでは、市場をリードする主要3ブランドのフラッグシップモデルの性能を（一般的な評価に基づき）比較します。
                </p>
                <div class="bg-white p-6 rounded-lg shadow-lg border border-stone-200">
                    <h3 class="text-xl font-semibold text-stone-800 mb-4 text-center">主要NCヘッドホン 性能比較 (5点満点評価)</h3>
                    <div class="chart-container">
                        <canvas id="productComparisonChart"></canvas>
                    </div>
                </div>
                <div class="mt-8 bg-white p-6 rounded-lg shadow-lg border border-stone-200">
                    <h3 class="text-xl font-semibold text-stone-800 mb-4">主要機能のトレンド</h3>
                    <ul class="list-disc list-inside text-stone-600 space-y-2">
                        <li><strong>アダプティブNC:</strong> ユーザーの状況（歩行中、電車内、静かな場所など）を自動で判別し、NCの強度や外音取り込みレベルを最適化する機能。</li>
                        <li><strong>高性能な外音取り込み:</strong> NCとは逆に、マイクで集めた周囲の音を自然に耳へ届ける機能。イヤホンをつけたままでも会話が可能です。</li>
                        <li><strong>通話品質の向上:</strong> ビームフォーミングマイクやAI（骨伝導センサー併用など）を活用し、騒音下でも自分の声だけをクリアに相手に届ける技術。</li>
                        <li><strong>マルチポイント接続:</strong> PCとスマートフォンなど、2台のデバイスに同時に接続し、シームレスに切り替えられる機能。</li>
                    </ul>
                </div>
            </section>

            <!-- 4. ソニーの先進技術 -->
            <section id="section-sony" class="mb-12 scroll-mt-20">
                <h2 class="text-3xl font-bold text-blue-700 mb-4">4. ソニーの先進技術</h2>
                <p class="text-stone-700 leading-relaxed mb-6">
                    ソニーは、ノイズキャンセリング市場において常にトップランナーの一社であり続けています。その強みは、高性能な専用プロセッサーと統合的な音響設計にあります。
                </p>
                <div class="space-y-6">
                    <div class="bg-white p-6 rounded-lg shadow-md border border-stone-200">
                        <h3 class="text-xl font-semibold text-stone-800 mb-2">高音質ノイズキャンセリングプロセッサー (QN1, V1, V2など)</h3>
                        <p class="text-stone-600">ソニーはNC処理、DAC（デジタル-アナログ変換）、アンプ機能を1チップに統合した専用プロセッサーを自社開発しています。これにより、高精度な逆位相音の生成と、ノイズ処理による音質劣化の最小化を両立させています。特に「QN1」の登場は、業界のNC性能水準を大きく引き上げました。</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md border border-stone-200">
                        <h3 class="text-xl font-semibold text-stone-800 mb-2">デュアルノイズセンサーテクノロジー</h3>
                        <p class="text-stone-600">ハイブリッド方式（FF+FB）を採用し、ヘッドホンの内外に配置した2つのマイクで効率的にノイズを集音します。最新モデルでは片側4つ（計8つ）のマイクを搭載するなど、集音性能を継続的に強化しています。</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md border border-stone-200">
                        <h3 class="text-xl font-semibold text-stone-800 mb-2">DSEE Extreme (AIによるアップスケーリング)</h3>
                        <p class="text-stone-600">ストリーミング音源など圧縮された音源を、AI技術を用いて高解像度化（アップスケーリング）する技術です。NC性能だけでなく、再生する音楽そのものの品質を高めることで、総合的なリスニング体験を向上させています。</p>
                    </div>
                </div>
            </section>

            <!-- 5. 奇抜なNCプロダクト -->
            <section id="section-unique" class="mb-12 scroll-mt-20">
                <h2 class="text-3xl font-bold text-blue-700 mb-4">5. 奇抜なNCプロダクト</h2>
                <p class="text-stone-700 leading-relaxed mb-6">
                    ノイズキャンセリング技術はイヤホンだけでなく、驚くような形で応用され始めています。ここでは、特にユニークな製品やコンセプトを紹介します。
                </p>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="bg-white p-6 rounded-lg shadow-lg border border-stone-200 flex flex-col">
                        <h3 class="text-xl font-semibold text-stone-800 mb-2">Dyson Zone</h3>
                        <span class="text-sm font-medium text-blue-600 mb-3">空気清浄機 + ヘッドホン</span>
                        <p class="text-stone-600 flex-grow">ダイソンが開発した「空気清浄機付きノイズキャンセリングヘッドホン」。口元に非接触型のシールド（バイザー）が装着され、フィルターを通したクリーンな空気を供給します。都市の騒音と大気汚染に同時に対応するという奇抜なコンセプトで話題となりました。</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-lg border border-stone-200 flex flex-col">
                        <h3 class="text-xl font-semibold text-stone-800 mb-2">Muzo</h3>
                        <span class="text-sm font-medium text-blue-600 mb-3">振動型ノイズ低減デバイス</span>
                        <p class="text-stone-600 flex-grow">これはイヤホンではなく、テーブルや窓ガラスに貼り付けて使用するデバイスです。ANCの原理を応用し、不快な振動（例：工事の振動、隣室の騒音）を検知し、デバイス自体が逆位相の振動を発生させて打ち消します。局所的な「静寂ゾーン」を作り出すことを目的としています。</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-lg border border-stone-200 flex flex-col">
                        <h3 class="text-xl font-semibold text-stone-800 mb-2">Silentium</h3>
                        <span class="text-sm font-medium text-blue-600 mb-3">BtoB 空間NCソリューション</span>
                        <p class="text-stone-600 flex-grow">イスラエルの企業Silentiumは、特定の空間や製品に特化したANCソリューションを提供しています。例えば、サーバーラックのファン騒音、自動車のロードノイズ、キッチンの換気扇の音など、特定の「ノイズ源」に対して最適化されたANCシステムを組み込みます。</p>
                    </div>
                </div>
            </section>

            <!-- 6. 空間ノイズキャンセリング -->
            <section id="section-spatial" class="mb-12 scroll-mt-20">
                <h2 class="text-3xl font-bold text-blue-700 mb-4">6. 空間ノイズキャンセリング</h2>
                <p class="text-stone-700 leading-relaxed mb-6">
                    イヤホンやヘッドホンが「個人の耳」周辺のノイズを消すのに対し、「空間ノイズキャンセリング」は、部屋や車内など、ある程度の広さを持つ空間全体の騒音を低減しようとする技術です。
                </p>
                <div class="bg-white p-6 rounded-lg shadow-lg border border-stone-200 mb-6">
                    <h3 class="text-xl font-semibold text-stone-800 mb-3">基本原理と課題</h3>
                    <p class="text-stone-600 mb-4">
                        原理はANCと同じで、空間内の複数のマイクで騒音を拾い、複数のスピーカーから逆位相の音を出力します。しかし、空間が広くなると音の反射や干渉が複雑になるため、完璧にノイズを消すことは非常に困難です。
                    </p>
                    <ul class="list-disc list-inside text-stone-600 space-y-2">
                        <li><strong>課題1: 処理の複雑さ:</strong> 空間内の場所によって騒音の聞こえ方（位相）が異なるため、全ての場所で同時にノイズを消すのは難しい。</li>
                        <li><strong>課題2: 対象ノイズ:</strong> エアコンの動作音や車のロードノイズのような「定常的」な騒音には効果がありますが、人の話し声や突発的な音のような「非定常的」な騒音を消すのは苦手です。</li>
                        <li><strong>課題3: スピーカー配置:</strong> 効果的な逆位相音を生成するには、綿密に計算されたスピーカーの配置が必要です。</li>
                    </ul>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-lg border border-stone-200">
                    <h3 class="text-xl font-semibold text-stone-800 mb-3">主な応用例</h3>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-semibold text-stone-700">自動車（ロードノイズキャンセル）</h4>
                            <p class="text-stone-600 text-sm">Boseの「QuietComfort Road Noise Control」などが代表例です。車内に複数のマイクと加速度センサーを設置し、タイヤが路面から拾う「ゴーッ」というロードノイズを検知。車載スピーカーから逆位相の音を出すことで、不快な低周波ノイズを低減し、快適な車内空間を実現します。</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-stone-700">オフィス・会議室</h4>
                            <p class="text-stone-600 text-sm">空調のファン騒音など、特定の定常的なノイズを低減するために導入されるケースがあります。空間全体を無音にするのではなく、特定の周波数帯のノイズを低減することで、会話の明瞭度を上げたり、疲労を軽減したりする目的で使われます。</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 7. まとめと未来 -->
            <section id="section-future" class="scroll-mt-20">
                <h2 class="text-3xl font-bold text-blue-700 mb-4">7. まとめと未来</h2>
                <p class="text-stone-700 leading-relaxed mb-6">
                    ノイズキャンセリング技術は、単に騒音を消す技術から、「聞きたい音だけを聴く」ためのサウンド・パーソナライゼーション技術へと進化しています。
                </p>
                <p class="text-stone-700 leading-relaxed mb-6">
                    今後は、AIの活用がさらに進むと予想されます。AIがユーザーの環境音や行動パターン、さらには脳波などを学習し、ユーザーが意識する前に最適なノイズキャンセリングレベルや外音取り込みモードに自動調整する「真のアダプティブ（適応型）」技術が登場するでしょう。また、空間NC技術も進化し、家庭の窓ガラス自体がANC機能を持つことで、外の騒音を気にせず生活できるような未来も遠くないかもしれません。
                </p>
            </section>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            
            // --- ANC Mechanism Tab Switching ---
            const tabButtons = document.querySelectorAll('.anc-tab-btn');
            const tabContents = document.querySelectorAll('.anc-content');
            const btnFF = document.getElementById('btn-ff');
            const btnFB = document.getElementById('btn-fb');
            const btnHybrid = document.getElementById('btn-hybrid');
            const contentFF = document.getElementById('content-ff');
            const contentFB = document.getElementById('content-fb');
            const contentHybrid = document.getElementById('content-hybrid');

            function switchTab(activeBtn, activeContent) {
                tabButtons.forEach(btn => {
                    btn.classList.remove('bg-blue-600', 'text-white');
                    btn.classList.add('bg-white', 'text-stone-700', 'border', 'border-stone-300');
                });
                tabContents.forEach(content => {
                    content.classList.add('hidden');
                });
                
                activeBtn.classList.add('bg-blue-600', 'text-white');
                activeBtn.classList.remove('bg-white', 'text-stone-700', 'border', 'border-stone-300');
                activeContent.classList.remove('hidden');
            }

            btnFF.addEventListener('click', () => switchTab(btnFF, contentFF));
            btnFB.addEventListener('click', () => switchTab(btnFB, contentFB));
            btnHybrid.addEventListener('click', () => switchTab(btnHybrid, contentHybrid));

            // --- Product Comparison Chart ---
            const ctx = document.getElementById('productComparisonChart').getContext('2d');
            const productComparisonChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Sony WH-1000XM5', 'Apple AirPods Pro 2', 'Bose QuietComfort Ultra'],
                    datasets: [
                        {
                            label: 'ノイズ低減性能',
                            data: [4.8, 4.5, 4.9],
                            backgroundColor: 'rgba(29, 78, 216, 0.7)', 
                            borderColor: 'rgba(29, 78, 216, 1)',
                            borderWidth: 1
                        },
                        {
                            label: '外音取り込み自然度',
                            data: [4.2, 4.8, 4.0],
                            backgroundColor: 'rgba(30, 136, 229, 0.7)', 
                            borderColor: 'rgba(30, 136, 229, 1)',
                            borderWidth: 1
                        },
                        {
                            label: '通話品質',
                            data: [4.5, 4.3, 4.1],
                            backgroundColor: 'rgba(123, 179, 255, 0.7)',
                            borderColor: 'rgba(123, 179, 255, 1)',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    indexAxis: 'y', 
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            beginAtZero: true,
                            max: 5,
                            title: {
                                display: true,
                                text: '評価 (5点満点)'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'bottom',
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.x !== null) {
                                        label += context.parsed.x + ' 点';
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });

            // --- Smooth Scrolling for Sidebar Navigation ---
            document.querySelectorAll('aside a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });

        });
    </script>
</body>
</html>
