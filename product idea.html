<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Future Product Lab | ã‚¢ã‚¤ãƒ‡ã‚¢ãƒªã‚¹ãƒˆ</title>
    <style>
        :root {
            --bg: #F5F7FA;
            --surface: #FFFFFF;
            --primary: #2C3E50;
            --accent: #3182CE;
            --border: #E2E8F0;
            --text-main: #2D3748;
            --text-sub: #718096;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text-main);
            margin: 0;
            line-height: 1.6;
        }

        /* --- Header Area (Sticky) --- */
        .header-container {
            position: sticky;
            top: 0;
            z-index: 9999; /* æœ€å‰é¢ã«å›ºå®š */
            background: rgba(255, 255, 255, 0.98);
            border-bottom: 1px solid var(--border);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem 1.5rem;
        }

        h1 {
            font-size: 1.2rem;
            margin: 0;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
            white-space: nowrap;
        }

        .count-badge {
            background: var(--primary);
            color: #fff;
            padding: 2px 10px;
            border-radius: 99px;
            font-size: 0.8rem;
            font-weight: normal;
        }

        /* Search Box */
        .search-wrapper {
            position: relative;
            width: 100%;
            max-width: 300px;
        }
        .search-input {
            width: 100%;
            padding: 8px 12px 8px 36px;
            border-radius: 20px;
            border: 1px solid #CBD5E0;
            background: #f8fafc;
            font-size: 0.9rem;
            box-sizing: border-box; /* å´©ã‚Œé˜²æ­¢ */
        }
        .search-input:focus {
            outline: none;
            border-color: var(--accent);
            background: #fff;
        }
        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #A0AEC0;
            pointer-events: none;
        }

        /* --- Toggle Bar (Clickable Area) --- */
        #filter-toggle-bar {
            background: #f1f5f9;
            border-top: 1px solid #e2e8f0;
            padding: 0.75rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer; /* æŒ‡ãƒãƒ¼ã‚¯ã«ã™ã‚‹ */
            user-select: none;
            transition: background 0.2s;
        }

        #filter-toggle-bar:hover {
            background: #e2e8f0;
        }

        .toggle-label {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.85rem;
            color: var(--text-sub);
            font-weight: bold;
        }

        .toggle-icon {
            font-size: 0.8rem;
            transition: transform 0.3s ease;
            color: var(--text-sub);
        }
        .toggle-icon.open {
            transform: rotate(180deg);
        }

        /* Active Summary Tags */
        .active-summary {
            display: flex;
            gap: 6px;
            flex-wrap: wrap;
        }
        .summary-tag {
            font-size: 0.7rem;
            padding: 2px 8px;
            border-radius: 4px;
            color: white;
            background: var(--text-sub);
        }
        .summary-tag.active-highlight {
            background: var(--accent);
        }

        /* --- Collapsible Filter Content --- */
        .filter-content {
            background: #fff;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-in-out, opacity 0.3s;
            opacity: 0;
            border-bottom: 1px solid var(--border);
        }

        .filter-content.open {
            max-height: 80vh; /* ååˆ†ãªé«˜ã•ã‚’ç¢ºä¿ */
            opacity: 1;
            overflow-y: auto; /* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒå¤šã„å ´åˆã¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« */
        }

        .filter-inner {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 1.2rem;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .filter-group-label {
            font-size: 0.75rem;
            font-weight: bold;
            color: #A0AEC0;
            letter-spacing: 0.05em;
        }

        .filter-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 0.6rem;
        }

        /* Filter Buttons */
        .btn-filter {
            appearance: none;
            border: 1px solid #CBD5E0;
            background: #fff;
            color: var(--text-sub);
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s;
            font-family: inherit;
        }

        .btn-filter:hover {
            border-color: var(--accent);
            color: var(--accent);
            background: #f0f7ff;
        }

        .btn-filter.active {
            background: var(--primary);
            color: #fff;
            border-color: var(--primary);
            font-weight: 600;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .btn-filter[data-type="author"].active {
            background: var(--accent);
            border-color: var(--accent);
        }

        /* --- Main Content --- */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1.5rem;
        }

        .section-header {
            font-size: 1.1rem;
            color: var(--text-sub);
            border-bottom: 2px solid var(--border);
            padding-bottom: 0.5rem;
            margin: 1.5rem 0;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        /* Card Design */
        .card {
            background: var(--surface);
            border-radius: 12px;
            border: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            transition: transform 0.2s, box-shadow 0.2s;
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 20px -5px rgba(0, 0, 0, 0.1);
            border-color: #cbd5e0;
        }

        .card-header {
            padding: 1rem;
            background: #f8fafc;
            border-bottom: 1px solid #edf2f7;
        }

        .card-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 8px;
        }

        .tag {
            font-size: 0.7rem;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
            background: #EDF2F7;
            color: #718096;
        }

        .tag.author { background: #EBF8FF; color: #2B6CB0; }
        .tag.cat { background: #F0FFF4; color: #2F855A; border: 1px solid #C6F6D5; }
        .tag.draft { background: #FFF5F5; color: #C53030; border: 1px solid #FED7D7; }

        .card-title {
            font-size: 1.1rem;
            font-weight: 700;
            margin: 0;
            line-height: 1.4;
            color: #2D3748;
        }

        .card-body {
            padding: 1.25rem;
            flex: 1;
            font-size: 0.9rem;
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .info-label {
            font-size: 0.7rem;
            color: #A0AEC0;
            font-weight: 700;
            text-transform: uppercase;
            display: block;
            margin-bottom: 2px;
        }
        .info-text {
            color: #4A5568;
            line-height: 1.5;
        }

        .uvp-box {
            background: #ebf8ff;
            border-left: 3px solid #4299e1;
            padding: 0.8rem;
            border-radius: 0 6px 6px 0;
            color: #2b6cb0;
            font-size: 0.9rem;
            margin-top: auto; /* ä¸‹éƒ¨ã«å¯„ã›ã‚‹ */
        }

        .empty-state {
            grid-column: 1 / -1;
            text-align: center;
            padding: 4rem 1rem;
            color: #A0AEC0;
            background: #fff;
            border-radius: 8px;
            border: 2px dashed #E2E8F0;
            display: none;
        }
        .empty-state.visible { display: block; }
        .hidden { display: none !important; }

        /* Mobile Adjustments */
        @media (max-width: 768px) {
            .header-top {
                flex-direction: column;
                gap: 1rem;
                align-items: stretch;
            }
            .search-wrapper { max-width: 100%; }
            .filter-inner { padding: 1rem; }
            .container { padding: 1rem; }
        }
    </style>
</head>
<body>

<div class="header-container">
    <div class="header-top">
        <h1>Future Product Lab <span class="count-badge" id="total-count">0</span></h1>
        <div class="search-wrapper">
            <span class="search-icon">ğŸ”</span>
            <input type="text" class="search-input" id="search-input" placeholder="ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢...">
        </div>
    </div>

    <div id="filter-toggle-bar">
        <div class="toggle-label">
            <span id="toggle-text">æ¡ä»¶ã‚’å¤‰æ›´ã™ã‚‹</span>
            <div class="active-summary" id="active-summary"></div>
        </div>
        <span class="toggle-icon" id="toggle-icon">â–¼</span>
    </div>

    <div class="filter-content" id="filter-content">
        <div class="filter-inner">
            <div class="filter-group">
                <span class="filter-group-label">æ‹…å½“è€… (MEMBER)</span>
                <div class="filter-buttons" id="author-filters">
                    <button class="btn-filter active" data-type="author" data-val="all">å…¨å“¡</button>
                    <button class="btn-filter" data-type="author" data-val="æ­Œä¸¸">æ­Œä¸¸</button>
                    <button class="btn-filter" data-type="author" data-val="ä¸­å°¾">ä¸­å°¾</button>
                    <button class="btn-filter" data-type="author" data-val="çœŸç”°">çœŸç”°</button>
                    <button class="btn-filter" data-type="author" data-val="æµœé‡">æµœé‡</button>
                    <button class="btn-filter" data-type="author" data-val="é‡Œå¹³">é‡Œå¹³</button>
                    <button class="btn-filter" data-type="author" data-val="ä¼Šé”">ä¼Šé”</button>
                    <button class="btn-filter" data-type="author" data-val="others">ãã®ä»–/ä¸æ˜</button>
                </div>
            </div>
            <div class="filter-group">
                <span class="filter-group-label">ã‚¸ãƒ£ãƒ³ãƒ« (CATEGORY)</span>
                <div class="filter-buttons" id="cat-filters">
                    <button class="btn-filter active" data-type="cat" data-val="all">ã™ã¹ã¦</button>
                    </div>
            </div>
        </div>
    </div>
</div>

<div class="container">
    
    <div id="section-member">
        <div class="section-header">ğŸ’¡ å…·ä½“æ¡ˆ (Member Ideas)</div>
        <div class="grid" id="grid-member"></div>
    </div>

    <div id="section-research">
        <div class="section-header">ğŸ§ª ç ”ç©¶ãƒ»ãƒ¡ãƒ¢ (Research & Drafts)</div>
        <div class="grid" id="grid-research"></div>
    </div>

    <div id="empty-state" class="empty-state">
        æ¡ä»¶ã«ä¸€è‡´ã™ã‚‹ã‚¢ã‚¤ãƒ‡ã‚¢ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚<br>
        ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ¡ä»¶ã‚’å¤‰æ›´ã—ã¦ã¿ã¦ãã ã•ã„ã€‚
    </div>

</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    
    // --- Data Definition ---
    const ideas = [
        { id: '1', type: 'member', author: 'ä¸æ˜', cat: 'AI/IoT', title: 'æ­¯ãƒ–ãƒ©ã‚·ã‚«ãƒ¡ãƒ©', target: 'è™«æ­¯äºˆé˜²', pain: 'ç£¨ãæ®‹ã—ãŒè¦‹ãˆãªã„', solution: 'æ­¯ã‚’ã‚«ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰åŒ–ã—ã‚¹ãƒãƒ›ã§å¯è¦–åŒ–', uvp: 'è‡ªå®…ã§å®Œç’§ãªã‚ªãƒ¼ãƒ©ãƒ«ã‚±ã‚¢' },
        { id: '2', type: 'member', author: 'æ­Œä¸¸', cat: 'AR/IoT', title: 'å¯ãªãŒã‚‰ãƒ‰ãƒ¼ãƒ å‹ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤', target: 'è‚²å…ä¸­ã®è¦ª', pain: 'å¤œã—ã‹æ™‚é–“ãŒãªã„/éŸ³æ¼ã‚Œå›°ã‚‹', solution: 'æŒ‡å‘æ€§ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ä»˜ããƒ‰ãƒ¼ãƒ ', uvp: 'å¯è½ã¡OKã®æ²¡å…¥ã‚·ã‚¢ã‚¿ãƒ¼' },
        { id: '3', type: 'member', author: 'æ­Œä¸¸', cat: 'VR/AR', title: 'VRæ¤œè¨¼ãƒ‡ãƒã‚¤ã‚¹', target: 'é–‹ç™ºè€…', pain: 'VRä½“é¨“ã‚’2Dã§ä¼ãˆã‚‰ã‚Œãªã„', solution: 'ä¸¡çœ¼è¦–è¦šã‚’1ç”»é¢ã«å†ç¾ã™ã‚‹AI', uvp: 'ä½“é¨“ã®å¯è¦–åŒ–' },
        { id: '4', type: 'member', author: 'ä¸­å°¾', cat: 'LifeLog', title: 'æ„Ÿæƒ…ãƒ¬ã‚³ãƒ¼ãƒ€ãƒ¼', target: 'è¦ª', pain: 'å½“æ™‚ã®æ„Ÿæƒ…ã¾ã§è¨˜éŒ²ã§ããªã„', solution: 'å†™çœŸä»¥ä¸Šã«ãƒªã‚¢ãƒ«ãªè¨˜éŒ²åª’ä½“', uvp: '' },
        { id: '5', type: 'member', author: 'ä¸­å°¾', cat: 'LifeLog', title: 'äººå‘ã‘ãƒ‰ãƒ©ãƒ¬ã‚³', target: 'è¦ª', pain: 'å­ä¾›ã®å±é™ºçŠ¶æ³ãŒä¸æ˜', solution: 'å¸¸æ™‚éŒ²ç”»ãƒ‡ãƒã‚¤ã‚¹', uvp: 'å®‰å¿ƒã®å¯è¦–åŒ–' },
        { id: '6', type: 'member', author: 'çœŸç”°', cat: 'Robotics', title: 'å°‚å±ãƒ¡ã‚¤ã‚¯ã‚¢ãƒƒãƒ—ãƒã‚·ãƒ¼ãƒ³', target: 'å¥³æ€§', pain: 'ãƒ¡ã‚¤ã‚¯æ™‚é–“ãŒãªã„/è‹¦æ‰‹', solution: 'é¡”èªè­˜ãƒ­ãƒœãƒƒãƒˆãŒè‡ªå‹•ãƒ¡ã‚¤ã‚¯', uvp: 'æ¯æœãƒ—ãƒ­ã®ä»•ä¸ŠãŒã‚Š' },
        { id: '7', type: 'member', author: 'æµœé‡', cat: 'Health', title: 'å¿ƒã¨ä½“ã®ã‚ªãƒ¼ãƒ©å¯è¦–åŒ–', target: 'å¥åº·å¿—å‘', pain: 'ä¸èª¿ã®åŸå› ãŒä¸æ˜', solution: 'ã‚»ãƒ³ã‚µãƒ¼ã§ãƒã‚¤ã‚¿ãƒ«ã‚’ã‚ªãƒ¼ãƒ©åŒ–', uvp: 'ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³å¥åº·ç®¡ç†' },
        { id: '8', type: 'member', author: 'é‡Œå¹³', cat: 'MaaS', title: 'HelpWork', target: 'å›°ã£ã¦ã„ã‚‹äºº', pain: 'ä»Šã™ãäººæ‰‹ãŒæ¬²ã—ã„', solution: 'è¿‘éš£å³æ™‚ãƒãƒƒãƒãƒ³ã‚°ã‚¢ãƒ—ãƒª', uvp: 'ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›¸äº’æ‰¶åŠ©' },
        { id: '9', type: 'member', author: 'é‡Œå¹³', cat: 'AI/Robo', title: 'é¦™ã‚Šè‡ªå‹•ç™ºç”Ÿæ©Ÿ', target: 'ãƒ¯ãƒ¼ã‚«ãƒ¼', pain: 'é›†ä¸­ãƒ»ãƒªãƒ©ãƒƒã‚¯ã‚¹åˆ‡ã‚Šæ›¿ãˆ', solution: 'çŠ¶æ³ã«åˆã‚ã›é¦™ã‚Šã‚’è‡ªå‹•ç”Ÿæˆ', uvp: 'é¦™ã‚Šã§ç©ºé–“ã‚’ãƒãƒƒã‚¯' },
        { id: '10', type: 'member', author: 'çœŸç”°', cat: 'EdTech', title: 'æ•™è‚²ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ”¯æ´', target: 'æ•™å“¡', pain: 'ç”Ÿå¾’å¯¾å¿œã®è² æ‹…å¢—', solution: 'ãƒ‡ãƒ¼ã‚¿åˆ†æã¨ã‚°ãƒ©ã‚¹ã§æŒ‡å°æ”¯æ´', uvp: 'æ•™è‚²ã®å€‹åˆ¥æœ€é©åŒ–' },
        { id: '12', type: 'member', author: 'çœŸç”°', cat: 'Other', title: 'é›·ã‚¬ãƒ¼ãƒ‰', target: 'å­ä¾›', pain: 'é›·éŸ³ãŒæ€–ã„', solution: 'é®éŸ³ãƒ»å®‰å¿ƒãƒ‡ãƒã‚¤ã‚¹', uvp: '' },
        { id: '13', type: 'member', author: 'çœŸç”°', cat: 'AR', title: 'YUKIQUEST (é™¤é›ªAR)', target: 'é›ªå›½', pain: 'é›ªã‹ããŒè¾›ã„', solution: 'ARã§é™¤é›ªæŒ‡ç¤ºï¼†ã‚²ãƒ¼ãƒ åŒ–', uvp: 'åŠ´åƒã‚’ã‚¨ãƒ³ã‚¿ãƒ¡ã«' },
        { id: '14', type: 'member', author: 'çœŸç”°', cat: 'Display', title: 'ç©ºã‚‚ã‚ˆã†ã‚«ãƒ¼ãƒ†ãƒ³', target: 'å®¶åº­', pain: 'é›¨ã®æ—¥ã¯æ†‚é¬±', solution: 'LEDã‚«ãƒ¼ãƒ†ãƒ³ã§å¤–æ™¯ã‚’å¤‰æ›´', uvp: 'ã„ã¤ã§ã‚‚æ™´å¤©ã®çª“è¾º' },
        { id: '16', type: 'member', author: 'é‡Œå¹³', cat: 'Smartphone', title: 'ã‚¹ãƒãƒ›èƒŒé¢ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤', target: 'ä¸€èˆ¬', pain: 'ã‚±ãƒ¼ã‚¹ã«é£½ãã‚‹', solution: 'èƒŒé¢å…¨ä½“ãŒãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤', uvp: 'ç„¡é™ã«å¤‰ã‚ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³' },
        { id: '17', type: 'member', author: 'é‡Œå¹³', cat: 'IoT', title: 'RFIDç’°å¢ƒã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º', target: 'ä¸€èˆ¬', pain: 'è¨­å®šå¤‰æ›´ãŒé¢å€’', solution: 'ã‚¿ã‚°ã‚’æŒã¤ã ã‘ã§éƒ¨å±‹ãŒå¤‰å½¢', uvp: 'ç©ºé–“ã®ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚º' },
        { id: '18', type: 'member', author: 'é‡Œå¹³', cat: 'IoT', title: 'SNSé€£æºã‚¢ã‚¯ã‚»', target: 'è‹¥è€…', pain: 'é€£çµ¡å…ˆäº¤æ›ãŒæ‰‹é–“', solution: 'ã‹ã–ã™ã ã‘ã®ã‚¹ãƒãƒ¼ãƒˆã‚¢ã‚¯ã‚»', uvp: 'ãƒ‡ã‚¸ã‚¿ãƒ«ååˆº' },
        { id: '19', type: 'member', author: 'é‡Œå¹³', cat: 'IoT', title: 'ç§˜å¯†ã®äº¤æ›ã‚¿ã‚°', target: 'ä¸€èˆ¬', pain: 'ã‚®ãƒ•ãƒˆã«é©šããŒãªã„', solution: 'ã‚¹ãƒãƒ›ã‚’ã‹ã–ã™ã¾ã§ä¸­èº«ä¸æ˜', uvp: 'ãƒ‡ã‚¸ã‚¿ãƒ«ãƒ»ã‚µãƒ—ãƒ©ã‚¤ã‚º' },
        { id: '20', type: 'member', author: 'æ­Œä¸¸', cat: 'IoT', title: 'äººé–“ETC', target: 'ãƒ†ãƒ¼ãƒãƒ‘ãƒ¼ã‚¯', pain: 'å¾…ã¡æ™‚é–“ãŒé•·ã„', solution: 'é¡”ãƒ‘ã‚¹å…¥å ´ãƒ»ç€å¸­ç®¡ç†', uvp: 'ã‚¹ãƒˆãƒ¬ã‚¹ãƒ•ãƒªãƒ¼ä½“é¨“' },
        { id: '21', type: 'member', author: 'æ­Œä¸¸', cat: 'Blockchain', title: 'P2Pãƒ¬ãƒ³ã‚¿ãƒ«', target: 'ä½“é¨“é‡è¦–', pain: 'é«˜é¡å“ã‚’è²·ã„ãŸããªã„', solution: 'IoTç®¡ç†ã®å€‹äººé–“ãƒ¬ãƒ³ã‚¿ãƒ«', uvp: 'ãƒ¢ãƒã®æ‰€æœ‰ã‹ã‚‰åˆ©ç”¨ã¸' },
        { id: '22', type: 'member', author: 'æµœé‡', cat: 'Audio', title: 'ç©ºé–“ãƒã‚¤ã‚ºã‚­ãƒ£ãƒ³ã‚»ãƒ«', target: 'æ•æ„Ÿãªäºº', pain: 'é™å¯‚ãŒæ¬²ã—ã„', solution: 'é€†ä½ç›¸éŸ³ã§éƒ¨å±‹ã”ã¨æ¶ˆéŸ³', uvp: 'ã‚¦ã‚§ã‚¢ãƒ©ãƒ–ãƒ«ä¸è¦ã®é™å¯‚' },
        { id: '23', type: 'member', author: 'æµœé‡', cat: 'Scent', title: 'é¦™ã‚Šã®ã‚¿ã‚¤ãƒ ã‚«ãƒ—ã‚»ãƒ«', target: 'æ€ã„å‡º', pain: 'è¨˜æ†¶ãŒè–„ã‚Œã‚‹', solution: 'å†™çœŸï¼‹é¦™ã‚Šã®è¨˜éŒ²', uvp: 'ãƒ—ãƒ«ãƒ¼ã‚¹ãƒˆåŠ¹æœã®å†ç¾' },
        { id: '24', type: 'member', author: 'æµœé‡', cat: 'Scent', title: 'é¦™ã‚Šã§ä»¥å¿ƒä¼å¿ƒ', target: 'å®¶æ—', pain: 'é€£çµ¡ã‚’è¦‹ã¦ãã‚Œãªã„', solution: 'é¦™ã‚Šã§åˆå›³ã‚’é€ã‚‹', uvp: 'æ„Ÿæƒ…ã«å±Šãé€šçŸ¥' },
        { id: '25', type: 'member', author: 'æµœé‡', cat: 'Display', title: 'ãƒ‡ã‚¸ã‚¿ãƒ«ç®±åº­', target: 'ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼', pain: 'VRã¯é…”ã†', solution: 'è£¸çœ¼ç«‹ä½“ã®å“ä¸Šãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤', uvp: 'æ‰‹ã®ä¸­ã®å°å®‡å®™' },
        { id: '26', type: 'member', author: 'ä¸­å°¾', cat: 'IoT', title: 'è‡ªå‹•é›¨ã‚ˆã‘', target: 'å®¶åº­', pain: 'æ´—æ¿¯ç‰©ãŒæ¿¡ã‚Œã‚‹', solution: 'é›¨æ¤œçŸ¥ã§è‡ªå‹•å±•é–‹', uvp: 'å¹²ã—ãŸã¾ã¾å¤–å‡ºOK' },
        { id: '27', type: 'member', author: 'ä¸­å°¾', cat: 'RFID', title: 'è½ã—ç‰©å³æ™‚ã‚¢ãƒ©ãƒ¼ãƒ ', target: 'å¿˜ã‚Œç‰©', pain: 'æ°—ã¥ã‹ãªã„', solution: 'é›¢ã‚Œã‚‹ã¨å³é³´ã‚‹ã‚·ãƒ¼ãƒ«', uvp: 'ã‚·ãƒ¼ãƒ«å‹ç´›å¤±é˜²æ­¢' },
        { id: '29', type: 'member', author: 'ä¸­å°¾', cat: 'Camera', title: 'åˆ†é›¢å‹ã‚«ãƒ¡ãƒ©ã‚¹ãƒãƒ›', target: 'æ’®å½±è€…', pain: 'äººæ··ã¿ã§æ’®ã‚Œãªã„', solution: 'ã‚«ãƒ¡ãƒ©éƒ¨ãŒå¤–ã‚Œã‚‹', uvp: 'ãƒ•ãƒªãƒ¼ã‚¢ãƒ³ã‚°ãƒ«æ’®å½±' },
        { id: '30', type: 'member', author: 'ä¼Šé”', cat: 'BioAuth', title: 'é¦™ã‚Šã‚­ãƒ¼ï¼ˆç”Ÿä½“èªè¨¼ï¼‰', target: 'ä¸€èˆ¬', pain: 'æŒ‡ç´‹/é¡”ãŒåŠ¹ã‹ãªã„', solution: 'ä½“è‡­ã§èªè¨¼', uvp: 'ã‚¿ãƒƒãƒãƒ¬ã‚¹ãƒ»ãƒ«ãƒƒã‚¯ãƒ¬ã‚¹' },
        { id: '31', type: 'member', author: 'ä¼Šé”', cat: 'Health', title: 'ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼æ¤œçŸ¥', target: 'ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼', pain: 'æˆåˆ†ãŒä¸å®‰', solution: 'åŒ‚ã„ã§ã‚¢ãƒ¬ãƒ«ã‚²ãƒ³ç‰¹å®š', uvp: 'é£Ÿã¹ã‚‹å‰ã®å®‰å…¨ç¢ºèª' },
        { id: '33', type: 'member', author: 'çœŸç”°', cat: 'AI', title: 'ã‚³ã‚³ãƒŸãƒŸï¼ˆAIãƒŸãƒ©ãƒ¼ï¼‰', target: 'ç–²ã‚ŒãŸäºº', pain: 'èª°ã¨ã‚‚è©±ã—ãŸããªã„', solution: 'è¡¨æƒ…ã‚’èª­ã‚€é¡ãŒå…±æ„Ÿ', uvp: 'æ„Ÿæƒ…ã®ãƒ‡ãƒˆãƒƒã‚¯ã‚¹' },
        { id: '34', type: 'member', author: 'æµœé‡', cat: 'AI', title: 'ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºãƒ©ã‚¸ã‚ª', target: 'ãªãŒã‚‰å±¤', pain: 'æƒ…å ±é¸åˆ¥ãŒé¢å€’', solution: 'AIè‡ªå‹•ç·¨æˆãƒ©ã‚¸ã‚ª', uvp: 'è‡ªåˆ†å°‚ç”¨æ”¾é€å±€' },
        { id: '36', type: 'member', author: 'æµœé‡', cat: 'Haptics', title: 'BackDodge', target: 'ä¸€èˆ¬', pain: 'èƒŒå¾ŒãŒæ€–ã„', solution: 'èƒŒé¢ã‚»ãƒ³ã‚µã¨æŒ¯å‹•é€šçŸ¥', uvp: 'ç¬¬å…­æ„Ÿã®å®Ÿè£…' },
        { id: '37', type: 'member', author: 'æµœé‡', cat: 'App', title: 'é£Ÿã¹ãƒ¢ãƒ³ (é£Ÿè‚²)', target: 'å­ä¾›', pain: 'å¥½ãå«Œã„å¤šã„', solution: 'é£Ÿäº‹ã§ã‚­ãƒ£ãƒ©è‚²æˆ', uvp: 'å®Œé£Ÿã‚’ã‚¨ãƒ³ã‚¿ãƒ¡åŒ–' },
        { id: '38', type: 'member', author: 'æ­Œä¸¸', cat: 'AR', title: 'ç™½ç´™ã®æœ¬', target: 'èª­æ›¸å®¶', pain: 'æœ¬ã¯åµ©å¼µã‚‹', solution: 'ç™½ç´™ï¼‹ARã§ä¸­èº«è¡¨ç¤º', uvp: 'ã‚¢ãƒŠãƒ­ã‚°ã¨ãƒ‡ã‚¸ã‚¿ãƒ«ã®èåˆ' },
        { id: '41', type: 'member', author: 'çœŸç”°', cat: 'Camera', title: 'é€ã‘ã‚‹ã‚«ãƒ¡ãƒ©', target: 'æ’®å½±è€…', pain: 'éšœå®³ç‰©ãŒé‚ªé­”', solution: 'éšœå®³ç‰©é€éå‡¦ç†', uvp: 'è¢«å†™ä½“ã ã‘ã‚’å†™ã™' },
        { id: '42', type: 'member', author: 'çœŸç”°', cat: 'Haptics', title: 'æŒ‡ã•ãªã„å°†æ£‹', target: 'å°†æ£‹', pain: 'æº–å‚™é¢å€’', solution: 'è§¦è¦šç›¤é¢ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤', uvp: 'æ‰‹è»½ã«æœ¬æ ¼å¯¾å±€' },
        { id: '43', type: 'member', author: 'é‡Œå¹³', cat: 'Energy', title: 'ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚«ãƒ¼ãƒ†ãƒ³', target: 'å®¶åº­', pain: 'åœé›»ä¸å®‰', solution: 'é®å…‰è“„é›»ï¼‹å¤œé–“ç…§æ˜', uvp: 'é˜²ç½ã‚¤ãƒ³ãƒ†ãƒªã‚¢' },
        { id: '44', type: 'member', author: 'ä¼Šé”', cat: 'AI/Music', title: 'Behavior Synth', target: 'ä½œå®¶', pain: 'ä½œæ›²é›£ã—ã„', solution: 'è¡Œå‹•ã‚’éŸ³æ¥½ã«å¤‰æ›', uvp: 'æŒ¯ã‚‹èˆã„ãŒéŸ³ã«ãªã‚‹' },
        { id: '45', type: 'member', author: 'æµœé‡', cat: 'IoT', title: 'ã‚¹ãƒãƒ¼ãƒˆã‚´ãƒŸç®±', target: 'å®¶åº­', pain: 'åˆ†åˆ¥/åœ¨åº«ç®¡ç†', solution: 'ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ç®¡ç†', uvp: 'æ¨ã¦ã‚‹ï¼ç®¡ç†ã™ã‚‹' },
        { type: 'research', author: '-', cat: 'Bio', title: 'è™«ãƒœãƒ¼ã‚°', solution: 'ç›Šè™«ã§å®³è™«é§†é™¤' },
        { type: 'research', author: '-', cat: 'IoT', title: 'ã‘ã‚“ç‰ã‚®ãƒ–ã‚¹', solution: 'çµ¶å¯¾ã§ãã‚‹çŸ¯æ­£å…·' },
        { type: 'research', author: '-', cat: 'Future', title: 'èª°ã§ã‚‚å¿µåŠ›', solution: 'è„³æ³¢/éŸ³å£°ãƒ¬ã‚¹æ“ä½œ' },
        { type: 'research', author: '-', cat: 'IoT', title: 'è‡ªå‹•éŸ³èª¿', solution: 'ä½“æ„Ÿæ¸©åº¦ã§ã‚¨ã‚¢ã‚³ãƒ³åˆ¶å¾¡' },
        { type: 'research', author: '-', cat: 'Robo', title: 'ç¬¬3ã®æ‰‹', solution: 'ä½œæ¥­è£œåŠ©ã‚¢ãƒ¼ãƒ ' },
        { type: 'research', author: 'é‡Œå¹³', cat: 'Med', title: 'é éš”é€šä¿¡åŒ»ç™‚', solution: 'å³æ™‚ç©ºãåŒ»è€…ãƒãƒƒãƒãƒ³ã‚°' },
        { type: 'research', author: '-', cat: 'VR', title: 'ç¡çœ æ”¹å–„VR', solution: 'å…¥çœ ã‚µãƒãƒ¼ãƒˆæ˜ åƒ' },
        { type: 'research', author: 'æµœé‡', cat: 'Health', title: 'é‹å‹•ç¶™ç¶šå¯è¦–åŒ–', solution: 'ç†æƒ³ä½“å‹ã¸ã®ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—' },
        { type: 'research', author: '-', cat: 'Bio', title: 'ãƒãƒ«ãƒã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼', solution: 'æ°´ã«å‘³è¦šéŒ¯è¦šã‚’ä»˜ä¸' },
        { type: 'research', author: 'ä¼Šé”', cat: 'VR', title: 'èª°ã§ã‚‚ãƒ—ãƒ­ä½“é¨“', solution: 'é¸æ‰‹è¦–ç‚¹ã§è¦³æˆ¦' },
        { type: 'research', author: 'ä¼Šé”', cat: 'AI', title: 'å–ªå¤±æ„Ÿã‚¼ãƒ­', solution: 'æ•…äººãƒ»ãƒšãƒƒãƒˆå†ç¾AI' },
        { type: 'research', author: 'ä¼Šé”', cat: 'Health', title: 'é£²é…’é™ç•Œå¯è¦–åŒ–', solution: 'ã‚ã¨ä½•æ¯é£²ã‚ã‚‹ã‹è¡¨ç¤º' },
        { type: 'research', author: 'ä¼Šé”', cat: 'AR', title: 'æ˜ åƒååˆº', solution: 'é¡”æ¨ªã«ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¡¨ç¤º' },
        { type: 'research', author: 'ä¼Šé”', cat: 'AR', title: 'å®¶åº­å†…äº‹æ•…äºˆé˜²', solution: 'å±é™ºç®‡æ‰€ã‚’ARè¡¨ç¤º' },
        { type: 'research', author: 'é‡Œå¹³', cat: 'Energy', title: 'é›»æ± ä¸è¦IoT', solution: 'æ¸©åº¦å·®ç™ºé›»ãƒ‡ãƒã‚¤ã‚¹' },
        { type: 'research', author: 'é‡Œå¹³', cat: 'Scent', title: 'é¦™ã‚Šå†ç”Ÿãƒ¡ãƒ‡ã‚£ã‚¢', solution: 'æ˜ åƒã¨é¦™ã‚Šã®åŒæœŸ' },
        { type: 'research', author: 'é‡Œå¹³', cat: 'Scent', title: 'MemoriAroma', solution: 'æ€ã„å‡ºã®é¦™ã‚Šã‚’å†ç¾' },
        { type: 'research', author: 'é‡Œå¹³', cat: 'Scent', title: 'ScenTone', solution: 'é¦™ã‚Šã®æ¥½å™¨' }
    ];

    // State
    const state = {
        author: 'all',
        cat: 'all',
        search: '',
        isFiltersOpen: true 
    };

    // --- DOM Elements ---
    const dom = {
        toggleBar: document.getElementById('filter-toggle-bar'),
        filterContent: document.getElementById('filter-content'),
        toggleIcon: document.getElementById('toggle-icon'),
        toggleText: document.getElementById('toggle-text'),
        activeSummary: document.getElementById('active-summary'),
        searchInput: document.getElementById('search-input'),
        catFilters: document.getElementById('cat-filters'),
        gridMember: document.getElementById('grid-member'),
        gridResearch: document.getElementById('grid-research'),
        sectionMember: document.getElementById('section-member'),
        sectionResearch: document.getElementById('section-research'),
        emptyState: document.getElementById('empty-state'),
        totalCount: document.getElementById('total-count')
    };

    // --- Functions ---
    
    // Toggle Logic
    function toggleFilter(forceState = null) {
        if (forceState !== null) {
            state.isFiltersOpen = forceState;
        } else {
            state.isFiltersOpen = !state.isFiltersOpen;
        }

        if (state.isFiltersOpen) {
            dom.filterContent.classList.add('open');
            dom.toggleIcon.classList.add('open');
            dom.toggleText.textContent = "é–‰ã˜ã‚‹";
        } else {
            dom.filterContent.classList.remove('open');
            dom.toggleIcon.classList.remove('open');
            dom.toggleText.textContent = "æ¡ä»¶ã‚’å¤‰æ›´ã™ã‚‹";
        }
        updateSummary();
    }

    // Active Summary Tags
    function updateSummary() {
        dom.activeSummary.innerHTML = '';
        
        // Author Tag
        const authTag = document.createElement('span');
        authTag.className = 'summary-tag';
        if (state.author !== 'all') {
            authTag.classList.add('active-highlight');
            authTag.textContent = state.author === 'others' ? 'ãã®ä»–' : state.author;
        } else {
            authTag.textContent = 'å…¨å“¡';
        }
        dom.activeSummary.appendChild(authTag);

        // Category Tag
        const catTag = document.createElement('span');
        catTag.className = 'summary-tag';
        if (state.cat !== 'all') {
            catTag.classList.add('active-highlight');
            catTag.textContent = state.cat;
        } else {
            catTag.textContent = 'å…¨ã‚¸ãƒ£ãƒ³ãƒ«';
        }
        dom.activeSummary.appendChild(catTag);
    }

    // Init Category Buttons (å‹•çš„ã«ç”Ÿæˆã•ã‚Œã‚‹ã‚¸ãƒ£ãƒ³ãƒ«ãƒœã‚¿ãƒ³ã®å‡¦ç†)
    function initCats() {
        const cats = new Set();
        ideas.forEach(i => { if (i.cat && i.cat !== '-') cats.add(i.cat); });
        const sortedCats = Array.from(cats).sort();

        // æ—¢å­˜ã®ã€Œã™ã¹ã¦ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªã‚¢ã—ãªã„ã‚ˆã†ã«ã€å‹•çš„ãƒœã‚¿ãƒ³ã®ã¿è¿½åŠ 
        sortedCats.forEach(cat => {
            const btn = document.createElement('button');
            btn.className = 'btn-filter';
            btn.dataset.type = 'cat';
            btn.dataset.val = cat;
            btn.textContent = cat;
            // å‹•çš„ãƒœã‚¿ãƒ³ã«ã¯ç”Ÿæˆæ™‚ã«ãƒªã‚¹ãƒŠãƒ¼ã‚’è¿½åŠ 
            btn.addEventListener('click', () => setFilter('cat', cat));
            dom.catFilters.appendChild(btn);
        });
    }

    // Apply Filter Logic
    function setFilter(type, value) {
        state[type] = value;
        
        // Update Buttons Visual
        document.querySelectorAll(`.btn-filter[data-type="${type}"]`).forEach(btn => {
            if (btn.dataset.val === value) btn.classList.add('active');
            else btn.classList.remove('active');
        });

        render();
        updateSummary();

        // Mobile UX: Auto close on selection to see results
        if (window.innerWidth < 768) {
            toggleFilter(false);
        }
    }

    // Render Grid
    function render() {
        dom.gridMember.innerHTML = '';
        dom.gridResearch.innerHTML = '';

        let count = 0;
        let memberCount = 0;
        let researchCount = 0;
        const targetAuthors = ['æ­Œä¸¸', 'ä¸­å°¾', 'çœŸç”°', 'æµœé‡', 'é‡Œå¹³', 'ä¼Šé”'];

        ideas.forEach(item => {
            // Filter Logic
            if (state.author !== 'all') {
                if (state.author === 'others') {
                    // 'others' ã«è©²å½“ã™ã‚‹ã®ã¯ targetAuthors ã«å«ã¾ã‚Œãªã„ã€ã¾ãŸã¯ 'ä¸æ˜' ã®ã‚¢ã‚¤ãƒ‡ã‚¢
                    // item.author === 'ä¸æ˜' ã‚‚ 'others' ãƒ•ã‚£ãƒ«ã‚¿ã§è¡¨ç¤ºã™ã‚‹
                    if (targetAuthors.includes(item.author) && item.author !== 'ä¸æ˜') return; 
                } else {
                    if (item.author !== state.author) return;
                }
            }

            if (state.cat !== 'all') {
                if (item.cat !== state.cat) return;
            }

            if (state.search) {
                const text = `${item.title} ${item.solution} ${item.pain} ${item.uvp} ${item.target} ${item.author || ''} ${item.cat || ''}`.toLowerCase();
                if (!text.includes(state.search)) return;
            }

            // Create Card
            count++;
            const isResearch = item.type === 'research';
            const card = document.createElement('div');
            card.className = 'card';
            
            let tagsHtml = '';
            if (item.id) tagsHtml += `<span class="tag">#${item.id}</span>`;
            if (item.author && item.author !== '-') tagsHtml += `<span class="tag author">${item.author}</span>`;
            if (item.cat && item.cat !== '-') tagsHtml += `<span class="tag cat">${item.cat}</span>`;
            if (isResearch) tagsHtml += `<span class="tag draft">Idea Seed</span>`;

            card.innerHTML = `
                <div class="card-header">
                    <div class="card-meta">${tagsHtml}</div>
                    <h3 class="card-title">${item.title || 'No Title'}</h3>
                </div>
                <div class="card-body">
                    ${!isResearch && item.target ? `<div><span class="info-label">Target</span><div class="info-text">${item.target}</div></div>` : ''}
                    ${!isResearch && item.pain ? `<div><span class="info-label">Pain (èª²é¡Œ)</span><div class="info-text">${item.pain}</div></div>` : ''}
                    ${item.solution ? `<div><span class="info-label">Solution (è§£æ±ºç­–)</span><div class="info-text">${item.solution}</div></div>` : ''}
                    ${!isResearch && item.uvp ? `<div class="uvp-box">${item.uvp}</div>` : ''}
                </div>
            `;

            if (isResearch) {
                dom.gridResearch.appendChild(card);
                researchCount++;
            } else {
                dom.gridMember.appendChild(card);
                memberCount++;
            }
        });

        // Update Counts & Visibility
        dom.totalCount.textContent = count;
        dom.sectionMember.style.display = memberCount > 0 ? 'block' : 'none';
        dom.sectionResearch.style.display = researchCount > 0 ? 'block' : 'none';
        
        if (count === 0) dom.emptyState.classList.add('visible');
        else dom.emptyState.classList.remove('visible');
    }

    // --- Event Listeners ---
    dom.toggleBar.addEventListener('click', () => toggleFilter());
    
    dom.searchInput.addEventListener('keyup', (e) => {
        state.search = e.target.value.toLowerCase();
        render();
    });

    // â˜… æœ€çµ‚ä¿®æ­£: é™çš„ã«è¨˜è¿°ã•ã‚Œã¦ã„ã‚‹ãƒœã‚¿ãƒ³ã«ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’ç¢ºå®Ÿã«è¿½åŠ  (æ‹…å½“è€…ã¨ã‚¸ãƒ£ãƒ³ãƒ«ã™ã¹ã¦)
    // #cat-filters ã®ä¸­ã® data-val="all" ã®ãƒœã‚¿ãƒ³ã‚’æ˜ç¤ºçš„ã«ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã«ã—ã¦ã„ã¾ã™ã€‚
    document.querySelectorAll('#author-filters .btn-filter, #cat-filters .btn-filter[data-val="all"]').forEach(btn => {
        btn.addEventListener('click', () => {
            const type = btn.dataset.type;
            const value = btn.dataset.val;
            setFilter(type, value);
        });
    });

    // Initialize
    initCats();
    // åˆæœŸçŠ¶æ…‹ã‚’æ­£ã—ãè¡¨ç¤ºã—ã€ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚¨ãƒªã‚¢ã‚’é–‹ã„ãŸçŠ¶æ…‹ã§å§‹ã‚ã‚‹
    render();
    toggleFilter(true); 
});
</script>
</body>
</html>
