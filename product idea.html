<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Future Product Lab | インタラクティブ評価版 (Ver. 29)</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <style>
        :root {
            --bg: #F0F2F5;
            --surface: #FFFFFF;
            --primary: #0066CC;
            --primary-dark: #0056b3;
            --personal: #009688;
            --personal-bg: #E0F2F1;
            --text-main: #333;
            --text-sub: #666;
            --rank-s: #FFD700;
            --rank-a: #A0AEC0;
        }

        body {
            font-family: "Helvetica Neue", Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text-main);
            margin: 0;
            line-height: 1.5;
            font-size: 14px;
        }

        /* Header */
        header {
            background: var(--surface);
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            padding-bottom: 0.5rem;
        }
        .header-inner {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0.8rem 1rem;
        }

        /* Top Row */
        .header-top-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.8rem;
            padding-bottom: 8px;
            border-bottom: 1px solid #eee;
        }
        .header-top-row h1 {
            margin: 0;
            font-size: 1.3rem;
            color: var(--primary-dark);
        }
        .file-actions {
            display: flex;
            gap: 8px;
        }
        .btn-file {
            display: flex; align-items: center; gap: 4px;
            padding: 5px 12px; border-radius: 6px; border: 1px solid #ccc;
            font-size: 0.85rem; font-weight: bold; cursor: pointer; background: white;
            white-space: nowrap;
        }
        .btn-file.save { background: #2D3748; color: white; border-color: #2D3748; }
        .btn-file.load { background: #fff; color: #333; border-color: #ccc; }

        /* Controls */
        .controls-row {
            display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 5px;
        }
        .page-tabs {
            display: flex; gap: 4px; background: #f0f2f5; padding: 3px; border-radius: 6px; align-items: center;
        }
        .page-tab-btn {
            padding: 6px 14px; border: none; background: none; cursor: pointer;
            font-size: 0.9rem; font-weight: bold; color: #666; border-radius: 4px;
        }
        .page-tab-btn.active {
            background: white; color: var(--primary); box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .count-badge {
            margin-left: 8px; margin-right: 4px; background: #CBD5E0; color: #2D3748;
            padding: 3px 10px; border-radius: 12px; font-size: 0.8rem; font-weight: bold; white-space: nowrap;
        }

        .control-group-right {
            display: flex; gap: 10px; align-items: center; flex-wrap: wrap;
        }
        .toggle-section {
            display: flex; align-items: center; font-size: 0.8rem; color: #666;
            background: #fff; padding: 2px 8px; border-radius: 15px; border: 1px solid #eee; white-space: nowrap;
        }
        .switch-label {
            position: relative; display: inline-block; width: 28px; height: 16px; margin-left: 6px;
        }
        .switch-label input { opacity: 0; width: 0; height: 0; }
        .slider {
            position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 20px;
        }
        .slider:before {
            position: absolute; content: ""; height: 12px; width: 12px; left: 2px; bottom: 2px; background-color: white; transition: .4s; border-radius: 50%;
        }
        input:checked + .slider { background-color: #F56565; }
        input:checked + .slider:before { transform: translateX(12px); }

        .controls-selectors { display: flex; gap: 5px; }
        .controls-selectors select {
            padding: 5px 8px; border-radius: 4px; border: 1px solid #ddd; font-size: 0.8rem; background: #fff; max-width: 140px;
        }

        .filter-tabs {
            display: flex; gap: 6px; overflow-x: auto; padding-bottom: 5px; margin-top: 5px; scrollbar-width: none;
        }
        .filter-tabs::-webkit-scrollbar { display: none; }
        .tab-btn {
            white-space: nowrap; padding: 4px 12px; border-radius: 20px; border: 1px solid #ddd;
            background: #fff; color: #666; font-size: 0.8rem; cursor: pointer; transition: all 0.2s;
        }
        .tab-btn.active {
            background: var(--primary); color: #fff; border-color: var(--primary); font-weight: bold;
        }

        /* Grid & Card */
        .container { max-width: 1200px; margin: 0 auto; padding: 1.5rem 1rem; }
        .grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 1.2rem;
        }
        .card {
            background: var(--surface); border-radius: 12px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.04); border: 1px solid #e0e0e0;
            display: flex; flex-direction: column; overflow: hidden;
            transition: transform 0.2s; position: relative; cursor: pointer;
        }
        .card:active { transform: scale(0.98); }

        .rank-badge {
            position: absolute; top: 0; right: 0; padding: 3px 10px;
            font-weight: bold; font-size: 0.75rem; color: #000;
            border-radius: 0 0 0 10px; z-index: 10;
        }
        .rank-s { background: var(--rank-s); box-shadow: 0 2px 4px rgba(0,0,0,0.15); }
        .rank-a { background: var(--rank-a); color: #fff; }
        
        .card-header { padding: 1rem; background: #fff; border-bottom: 1px solid #f5f5f5; }
        .meta-row { display: flex; gap: 6px; margin-bottom: 6px; flex-wrap: wrap; }
        .tag { font-size: 0.7rem; padding: 2px 6px; border-radius: 4px; background: #f0f0f0; color: #555; }
        .tag.cat { background: #E3F2FD; color: var(--primary); }
        .tag.author { background: #ffebee; color: #C53030; }
        .card-title { font-size: 1.1rem; font-weight: bold; margin: 0; line-height: 1.35; }
        
        /* Bar Styles - Direct Colors */
        .score-bar-container {
            margin-top: 4px; height: 8px; background: #EDF2F7; border-radius: 4px; display: flex; overflow: hidden;
        }
        .bar-segment-emotional { height: 100%; background-color: #E53E3E; } /* Red */
        .bar-segment-execution { height: 100%; background-color: #38A169; } /* Green */

        .score-detail-text {
            font-size: 0.7rem; color: #555; margin-top: 8px; display: flex; justify-content: space-between;
        }
        .score-label-personal { color: var(--personal); font-weight: bold; }
        .score-label-ai { color: #888; font-weight: bold; margin-top: 12px; }

        .ai-comment-box {
            margin-top: 10px; padding: 8px; background: #F8FAFC; border-radius: 6px; border: 1px solid #EDF2F7; font-size: 0.8rem;
        }
        .ai-comment-row { display: flex; align-items: flex-start; margin-bottom: 4px; line-height: 1.4; }
        .ai-comment-row:last-child { margin-bottom: 0; }
        .ai-comment-icon { margin-right: 6px; font-size: 0.9rem; min-width: 18px; text-align: center; }

        .card-body { padding: 1rem; flex: 1; font-size: 0.85rem; color: #444; }
        .uvp-box {
            margin-top: auto; padding: 8px; background: #f8fbff; border-left: 3px solid var(--primary); color: var(--primary); font-size: 0.8rem; border-radius: 0 4px 4px 0;
        }

        /* Modal */
        .modal {
            display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%;
            overflow: auto; background-color: rgba(0,0,0,0.5); justify-content: center; align-items: center;
        }
        .modal-content {
            background-color: #fefefe; margin: auto; padding: 20px; border-radius: 12px;
            width: 95%; max-width: 600px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); position: relative;
        }
        .close-btn { float: right; font-size: 24px; font-weight: bold; color: #aaa; padding: 0 5px; cursor: pointer; }
        .modal-score-section h3 {
            border-bottom: 2px solid #eee; padding-bottom: 5px; margin-top: 15px; font-size: 1.1rem; color: var(--primary);
        }
        .modal-score-section.personal-score h3 { color: var(--personal); }
        .score-input-group { display: flex; align-items: center; margin-bottom: 10px; }
        .score-input-group label { width: 90px; font-weight: bold; color: #555; font-size: 0.9rem; }
        .score-input-group input[type="number"] {
            width: 50px; padding: 6px; border: 1px solid #ddd; border-radius: 4px; text-align: center; margin-right: 8px;
        }
        textarea {
            width: calc(100% - 16px); min-height: 80px; padding: 8px; border: 1px solid #ddd; border-radius: 4px; resize: vertical;
        }
        .modal-save-btn {
            background-color: var(--personal); color: white; padding: 10px 20px; border: none; border-radius: 6px; cursor: pointer; font-size: 1rem; margin-top: 15px; width: 100%;
        }
        .personal-score-summary {
            padding: 8px; background: var(--personal-bg); border-radius: 4px; margin-top: 8px; font-weight: bold; color: var(--personal); text-align: center;
        }
        .score-input-section-divider { margin-top: 15px; padding-top: 10px; border-top: 1px solid #ddd; }

        /* Hiding logic */
        body.hide-ai-scores .rank-badge,
        body.hide-ai-scores .score-bar-container.ai-total-score-container,
        body.hide-ai-scores .score-label-ai,
        body.hide-ai-scores .ai-comment-box { display: none !important; }
        
        /* Summary Page */
        #summaryPage { padding: 1.5rem 1rem; }
        .summary-header { text-align: center; margin-bottom: 2rem; border-bottom: 2px solid #ddd; padding-bottom: 1rem; }
        .chart-container-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-top: 1rem;
        }
        .chart-box {
            background: var(--surface); padding: 15px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        .chart-box h3 { margin-top: 0; font-size:1rem; color: var(--primary-dark); border-bottom: 1px solid #eee; padding-bottom: 8px; }
        .chart-box.full-width { grid-column: 1 / -1; }
        .analysis-text-box {
            background: #E0F2F1; border-left: 5px solid var(--personal); padding: 15px; border-radius: 4px; margin-bottom: 20px;
        }
        .analysis-text-box h3 { color: var(--personal); margin-top: 0; }

        @media (max-width: 768px) {
            .header-inner { padding: 0.8rem; }
            .header-top-row { flex-wrap: wrap; gap: 10px; }
            .header-top-row h1 { font-size: 1.1rem; width: 100%; }
            .file-actions { width: 100%; justify-content: flex-start; }
            .controls-row { flex-direction: column; align-items: flex-start; gap: 8px; }
            .page-tabs { width: 100%; justify-content: space-between; }
            .page-tab-btn { flex-grow: 1; text-align: center; padding: 6px 4px; font-size: 0.85rem; }
            .count-badge { position: absolute; top: 55px; right: 15px; background: transparent; color: #666; padding: 0; font-size: 0.8rem; }
            .control-group-right { width: 100%; justify-content: space-between; }
            .controls-selectors { flex-grow: 1; justify-content: flex-end; }
            .controls-selectors select { width: 100%; max-width: none; }
            .grid { grid-template-columns: 1fr; }
            .modal-content { width: 92%; padding: 15px; max-height: 90vh; overflow-y: auto; }
        }
    </style>
</head>
<body>

<header>
    <div class="header-inner">
        <div class="header-top-row">
            <h1>プロダクトアイデア評価ボード</h1>
            <div class="file-actions">
                <button onclick="exportPersonalScores()" class="btn-file save"><span>💾</span> 保存</button>
                <button onclick="document.getElementById('importInput').click();" class="btn-file load"><span>📥</span> 読込</button>
                <input type="file" id="importInput" accept="application/json" onchange="importPersonalScoresFromFile(this.files[0])" style="display:none;">
            </div>
        </div>

        <div class="controls-row">
            <div class="page-tabs">
                <button class="page-tab-btn active" id="tabGrid" onclick="changePage('grid')">一覧ボード</button>
                <button class="page-tab-btn" id="tabSummary" onclick="changePage('summary')">自己分析</button>
            </div>
            <div class="count-badge" id="displayCount">全 0 件</div>
            
            <div class="control-group-right">
                <div class="toggle-section">
                    <span>AI隠す</span>
                    <label class="switch-label">
                        <input type="checkbox" id="aiScoreToggle" onchange="toggleAIScores()">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="controls-selectors">
                    <select class="author-select" id="authorSelect" onchange="render()">
                        <option value="all">作成者: 全員</option>
                    </select>
                    <select class="sort-select" id="sortSelect" onchange="render()">
                        <option value="personal_score">あなた評価順</option>
                        <option value="total_ai_score">AI評価順</option>
                        <option value="id">ID順</option>
                    </select>
                </div>
            </div>
        </div>

        <div id="filterSection">
            <div class="filter-tabs" id="categoryTabs">
                <button class="tab-btn active" onclick="setCategory('all', this)">すべて</button>
                <button class="tab-btn" onclick="setCategory('AV/Immersive', this)">AV/没入</button>
                <button class="tab-btn" onclick="setCategory('AI/Robotics', this)">AI/ロボ</button>
                <button class="tab-btn" onclick="setCategory('Life/Health', this)">生活/ヘルス</button>
                <button class="tab-btn" onclick="setCategory('Communication', this)">通信/交流</button>
                <button class="tab-btn" onclick="setCategory('Creative', this)">創造</button>
                <button class="tab-btn" onclick="setCategory('Other', this)">その他</button>
            </div>
        </div>
    </div>
</header>

<div class="container" id="gridPage">
    <div class="grid" id="grid"></div>
</div>

<div class="container" id="summaryPage" style="display:none;">
    <div class="summary-header">
        <h2>自己評価分析レポート</h2>
        <p>あなたが採点したデータに基づき、興味・関心の傾向を分析します。</p>
    </div>

    <div class="analysis-text-box">
        <h3>📊 あなたの興味プロファイル</h3>
        <div id="userAnalysisText">
            データが不足しています。まずは一覧ボードで気になるアイデアをいくつか評価（採点）してください。
        </div>
    </div>

    <div class="chart-container-grid">
        <div class="chart-box full-width">
            <h3>カテゴリー別 平均評価点 (あなたの関心度)</h3>
            <canvas id="categoryBarChart"></canvas>
        </div>
        <div class="chart-box">
            <h3>評価軸の傾向 (AI vs あなた)</h3>
            <canvas id="radarChart"></canvas>
        </div>
        <div class="chart-box">
            <h3>アイデア分布 (あなたの評価)</h3>
            <div style="height: 300px;">
                <canvas id="portfolioChart"></canvas>
            </div>
        </div>
    </div>
</div>

<div id="evaluationModal" class="modal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeModal()">&times;</span>
        <h2 id="modalTitle"></h2>
        <p id="modalMeta"></p>
        <div class="modal-uvp-box">
            <h4>独自の価値提案 (UVP)</h4>
            <p id="modalUVP"></p>
        </div>
        <div class="modal-score-section personal-score">
            <h3>📝 メンバー評価 (あなたの採点)</h3>
            <form id="personalScoreForm">
                <input type="hidden" id="modalIdeaId">
                <div class="score-input-section-divider" style="border-top: none;">
                    <h4>情緒的価値（感動・新奇性など）</h4>
                    <div class="score-input-group"><label>感動</label><input type="number" id="personalKando" min="1" max="5" oninput="updatePersonalTotal()"><span class="score-value">/5</span></div>
                    <div class="score-input-group"><label>Sonyらしさ</label><input type="number" id="personalSony" min="1" max="5" oninput="updatePersonalTotal()"><span class="score-value">/5</span></div>
                    <div class="score-input-group"><label>新奇性</label><input type="number" id="personalNewness" min="1" max="5" oninput="updatePersonalTotal()"><span class="score-value">/5</span></div>
                </div>
                <div class="score-input-section-divider">
                    <h4>実行価値（事業実現性など）</h4>
                    <div class="score-input-group"><label>実現性</label><input type="number" id="personalFeat" min="1" max="5" oninput="updatePersonalTotal()"><span class="score-value">/5</span></div>
                    <div class="score-input-group"><label>検証容易性</label><input type="number" id="personalTest" min="1" max="5" oninput="updatePersonalTotal()"><span class="score-value">/5</span></div>
                    <div class="score-input-group"><label>戦略性</label><input type="number" id="personalStrat" min="1" max="5" oninput="updatePersonalTotal()"><span class="score-value">/5</span></div>
                </div>
                <div class="personal-score-summary">あなたの総合評価 合計: <span id="personalTotalDisplay">0</span> / 30点</div>
                <h4>メモ・コメント</h4>
                <textarea id="personalNote" placeholder="コメントや懸念点などを入力..."></textarea>
                <button type="button" class="modal-save-btn" onclick="savePersonalScore()">評価を保存</button>
            </form>
        </div>
        <div class="modal-score-section">
            <h3>詳細情報</h3>
            <p><strong>🎯 ターゲット:</strong> <span id="modalWho"></span></p>
            <p><strong>💔 課題:</strong> <span id="modalPain"></span></p>
            <p><strong>💡 解決策:</strong> <span id="modalSolution"></span></p>
            <p><strong>📈 KGI:</strong> <span id="modalKGI"></span></p>
            <p><strong>🌟 Sony技術:</strong> <span id="modalTech"></span></p>
            <p><strong>⚠️ リスク:</strong> <span id="modalRisk"></span></p>
            <p><strong>🕰️ タイミング:</strong> <span id="modalTiming"></span></p>
        </div>
        <div class="modal-score-section">
            <h3 style="color:#E53E3E;">【AI簡易評価】情緒的価値</h3>
            <p id="modalAIScoreKando"></p>
        </div>
        <div class="modal-score-section">
            <h3 style="color:#38A169;">【AIプロダクト評価】実行価値</h3>
            <p id="modalAIScoreExec"></p>
        </div>
    </div>
</div>

<script>
    // 56件分のフルデータ
    const rawData = [
        {id:1,author:"中尾",cat:"Life/Health",title:"歯ブラシカメラ",who:"口腔ケア意識の高い人",pain:"歯の磨き残しが見えず、虫歯や口臭の原因になってしまう",solution:"歯ブラシの先端にイメージセンサーを搭載し、磨き残しをAIがカラーコードで表示。",uvp:"イメージセンサで歯を可視化。高度なセンシング技術の日常化。",kgi:"プラーク付着率の低下",tech:"AI(画像解析)、イメージセンサ技術",risk:"衛生面、医療機器としての規制",timing:"ヘルスケア意識の向上、小型センサーの進化",score_kando:{k:3,s:5,n:3},score_exec:{feat:5,test:5,strat:3}},
        {id:2,author:"歌丸",cat:"AV/Immersive",title:"寝ながらドーム型ディスプレイ",who:"夜しか時間がない親",pain:"夜子供を寝かしつけた後に、大迫力の映像コンテンツを体験したい",solution:"寝室の天井に取り付ける超短焦点プロジェクターと音漏れしない指向性スピーカー、遮光ドーム。",uvp:"指向性スピーカー＋暗視ドーム。寝落ちOKの完全没入シアター。",kgi:"平均視聴時間",tech:"指向性スピーカー、プロジェクション技術",risk:"設置の手間、寝室環境への配慮",timing:"共働き世帯の増加、ホームエンタメ需要の拡大",score_kando:{k:5,s:5,n:4},score_exec:{feat:4,test:5,strat:4}},
        {id:3,author:"歌丸",cat:"AV/Immersive",title:"VR検証デバイス",who:"VRコンテンツ開発者",pain:"VRコンテンツ開発における両眼視覚の検証効率が悪い",solution:"VRヘッドセットを装着した視覚を1つのディスプレイに統合し、開発者がリアルタイムで視覚差を確認できるデバイス。",uvp:"両眼視覚を1画面に再現する開発ツール",kgi:"検証時間の短縮率",tech:"VR/AR技術、ディスプレイ",risk:"開発者向けのニッチ市場、ソフトウェアとの連携",timing:"VR/ARコンテンツ市場の拡大",score_kando:{k:2,s:4,n:3},score_exec:{feat:5,test:3,strat:4}},
        {id:4,author:"中尾",cat:"Life/Health",title:"栄養バランスレコメンド",who:"忙しいビジネスパーソン",pain:"外食続きで栄養バランスが偏り、体調管理が難しい",solution:"食べたものの写真を撮るだけで栄養価を計算し、不足栄養素を補う次の食事をレコメンド。",uvp:"写真1枚で完結する手軽さ",kgi:"ユーザーの健康診断結果の改善率",tech:"AI(画像認識)、栄養学データベース",risk:"競合アプリの存在、正確性",timing:"健康志向の高まり",score_kando:{k:3,s:3,n:2},score_exec:{feat:5,test:5,strat:3}},
        {id:5,author:"里平",cat:"Life/Health",title:"スマートコンタクト",who:"視力矯正が必要な人",pain:"メガネやコンタクトの着脱が面倒、情報の確認にスマホを取り出すのが手間",solution:"AR情報を表示できるコンタクトレンズ。健康状態もモニタリング可能。",uvp:"究極のウェアラブル",kgi:"装着時間の長さ",tech:"極小ディスプレイ、バイオセンサー",risk:"安全性、技術的難易度",timing:"スマートグラスの次世代",score_kando:{k:5,s:5,n:5},score_exec:{feat:1,test:1,strat:5}},
        {id:6,author:"真田",cat:"AI/Robotics",title:"専属メイクアップマシーン",who:"メイク時間がない/苦手な人",pain:"毎朝のメイクにかかる時間が勿体ない、プロのような仕上がりにしたい",solution:"AIが顔の輪郭や肌の調子を解析し、最適なメイクをロボットアームで高速かつ精密に施す。",uvp:"顔認識とロボットアームで、毎朝プロ級のメイクを自動化。",kgi:"朝の準備時間短縮率",tech:"AI(画像認識)、ロボティクス(精密動作)",risk:"安全性の懸念、肌への接触",timing:"AIとロボット技術の進化、時短ニーズの増加",score_kando:{k:4,s:5,n:4},score_exec:{feat:3,test:3,strat:5}},
        {id:7,author:"浜野",cat:"Life/Health",title:"オーラパワー",who:"自分の体調変化に鈍い人",pain:"自身の体調やメンタルヘルスの微妙な変化に気づきにくい",solution:"ウェアラブルセンサーがバイタルデータを測定し、それを色彩豊かなオーラとして視覚的に表現。",uvp:"バイタルをゲーム風オーラとして可視化",kgi:"体調変化の早期発見率",tech:"バイタルセンサー、AR/VR可視化",risk:"データの正確性、視覚表現の解釈",timing:"パーソナライズヘルスケアのトレンド、ウェアラブル普及",score_kando:{k:3,s:4,n:3},score_exec:{feat:5,test:4,strat:4}},
        {id:8,author:"里平",cat:"Communication",title:"HelpWork",who:"急な人手不足に困る店舗経営者",pain:"急な欠勤や繁忙期の人手不足に即時対応できない",solution:"急な欠員や業務を、近隣の登録者に即時でマッチングするプラットフォーム。",uvp:"近隣即時マッチング",kgi:"マッチング成功までの平均時間",tech:"ロケーションベースサービス、マッチングAI",risk:"労働条件、トラブル発生時の責任",timing:"ギグワークの一般化、労働人口の流動性増加",score_kando:{k:3,s:1,n:2},score_exec:{feat:5,test:5,strat:3}},
        {id:9,author:"里平",cat:"AV/Immersive",title:"香り自動発生 (Smart Scent)",who:"没入体験を求めるユーザー",pain:"視覚・聴覚以外の五感でのエンタメ体験が不足している",solution:"映画やゲームのメタデータから香りを自動生成・噴霧するデバイス。香りのカートリッジ交換式。",uvp:"映像や状況に合わせて香りを自動選定・合成。五感エンタメ。",kgi:"エンタメコンテンツの満足度スコア",tech:"嗅覚ディスプレイ、コンテンツメタデータ解析",risk:"香りの個人差、カートリッジのコスト",timing:"XR技術の進化、五感刺激型コンテンツの模索",score_kando:{k:4,s:4,n:4},score_exec:{feat:4,test:3,strat:4}},
        {id:10,author:"中尾",cat:"Life/Health",title:"冷蔵庫管理アプリ",who:"食材を無駄にしがちな家庭",pain:"冷蔵庫の中身を把握できず、食材を腐らせてしまう",solution:"冷蔵庫内のカメラで在庫を自動管理し、賞味期限切れ前にレシピを提案。",uvp:"自動在庫管理とロス削減",kgi:"食品廃棄量の削減率",tech:"画像認識、IoT",risk:"カメラ設置のコスト、認識精度",timing:"フードロス削減の社会的要請",score_kando:{k:2,s:3,n:2},score_exec:{feat:4,test:4,strat:3}},
        {id:11,author:"中尾",cat:"AI/Robotics",title:"全自動洗濯畳み機",who:"家事が負担な共働き世帯",pain:"洗濯物を畳む作業が面倒で時間がかかる",solution:"洗濯乾燥機から取り出した衣類を自動で認識し、綺麗に畳んで収納まで行うロボット。",uvp:"家事の完全自動化",kgi:"家事時間の短縮",tech:"ロボティクス、画像認識",risk:"衣類の種類による対応限界、サイズ",timing:"スマートホーム化の進展",score_kando:{k:4,s:4,n:3},score_exec:{feat:2,test:2,strat:4}},
        {id:12,author:"真田",cat:"AV/Immersive",title:"YUKIQUEST (除雪AR)",who:"豪雪地帯の住民",pain:"雪かきが辛い労働で、モチベーションを保つのが困難",solution:"ARグラスを装着し、雪かきエリアをゲームのクエストのようにマッピング。雪の量に応じてスコアや報酬を付与。",uvp:"ARグラスで除雪をゲーミフィケーション化。労働をエンタメに。",kgi:"平均除雪時間の短縮",tech:"ARグラス、ロケーションベースゲーミフィケーション",risk:"屋外での視認性、バッテリー持続時間",timing:"AR技術の一般普及、労働人口減少に伴う省力化ニーズ",score_kando:{k:4,s:3,n:5},score_exec:{feat:3,test:5,strat:5}},
        {id:13,author:"真田",cat:"Life/Health",title:"空もようカーテン",who:"窓からの景色に不満がある人",pain:"都市部で窓から景色が見えない、天気が悪いと気分が落ち込む",solution:"高解像度LEDパネルをカーテンのように窓に設置し、リアルタイムの空模様や好みの風景を投影。",uvp:"LEDカーテンで窓の景色を自由に変更",kgi:"ユーザーの気分スコア向上率",tech:"LEDディスプレイ、環境センシング",risk:"設置コスト、消費電力",timing:"ホームシアター化の進行、インテリア需要の多様化",score_kando:{k:4,s:3,n:3},score_exec:{feat:4,test:4,strat:4}},
        {id:14,author:"里平",cat:"Creative",title:"スマホ背面ディスプレイ",who:"個性を表現したいスマートフォンユーザー",pain:"スマートフォンのケースやデザインに飽きる、もっと個性を出したい",solution:"スマートフォン背面に高解像度・低消費電力のE-Inkまたは有機ELディスプレイを搭載し、デザインや情報を表示。",uvp:"背面全体がディスプレイ。気分でデザインを変えるSonyらしい意匠。",kgi:"デザイン変更頻度",tech:"ディスプレイ技術、薄型化技術",risk:"バッテリー消費、耐久性",timing:"若年層の自己表現ニーズ、モバイルデバイスの意匠差別化",score_kando:{k:3,s:4,n:3},score_exec:{feat:5,test:4,strat:4}},
        {id:15,author:"里平",cat:"Life/Health",title:"スマートグラス（視覚補助）",who:"視覚障がい者",pain:"周囲の状況把握や文字の読み取りが困難",solution:"カメラとAIを搭載し、周囲の状況や文字を音声で伝えるスマートグラス。",uvp:"視覚の代替",kgi:"外出頻度の向上",tech:"画像認識、音声合成",risk:"誤認識による事故、バッテリー",timing:"AI技術の成熟、バリアフリー社会",score_kando:{k:4,s:4,n:3},score_exec:{feat:4,test:4,strat:5}},
        {id:16,author:"伊達",cat:"Communication",title:"翻訳こんにゃく",who:"海外旅行者、ビジネスマン",pain:"言語の壁があり、リアルタイムでのコミュニケーションが難しい",solution:"超小型のイヤホン型デバイスで、相手の言葉をリアルタイムに通訳して耳元で再生。",uvp:"完全ハンズフリーの同時通訳",kgi:"会話の成立率",tech:"音声認識、機械翻訳",risk:"誤訳、通信遅延",timing:"グローバル化、AI翻訳の精度向上",score_kando:{k:4,s:3,n:3},score_exec:{feat:4,test:4,strat:4}},
        {id:17,author:"伊達",cat:"Life/Health",title:"ドローン傘",who:"雨の日に両手を使いたい人",pain:"傘を持つと手が塞がり、荷物を持ったりスマホを操作したりしにくい",solution:"使用者の頭上を自動追尾して浮遊するドローン型の傘。",uvp:"ハンズフリーの雨除け",kgi:"濡れなかった割合",tech:"ドローン制御、画像認識",risk:"風、バッテリー、安全性（墜落）",timing:"ドローン技術の進化",score_kando:{k:4,s:3,n:4},score_exec:{feat:2,test:2,strat:3}},
        {id:18,author:"歌丸",cat:"Communication",title:"人間ETC",who:"行列が嫌いな人",pain:"テーマパークやイベント会場での行列、チケット購入のストレス",solution:"体内のICチップや顔認証と連携した決済システムで、ゲートを通過するだけで自動的に料金を精算。",uvp:"顔パス・RFIDでゲートレス入場。止まらない体験。",kgi:"入場時の平均待ち時間短縮率",tech:"RFID、顔認証、非接触決済",risk:"プライバシー、生体認証への抵抗感",timing:"非接触ニーズの増加、生体認証技術の普及",score_kando:{k:3,s:3,n:3},score_exec:{feat:5,test:4,strat:4}},
        {id:19,author:"歌丸",cat:"AI/Robotics",title:"自動運転ベビーカー",who:"子育て中の親",pain:"ベビーカーを押しながらの移動や買い物が大変",solution:"親を追尾して自動走行するベビーカー。障害物回避機能付き。",uvp:"手ぶらでのお出かけ",kgi:"外出時の疲労度軽減",tech:"自動運転、センサー",risk:"安全性、暴走",timing:"自動運転技術の応用",score_kando:{k:3,s:3,n:3},score_exec:{feat:3,test:3,strat:3}},
        {id:20,author:"中尾",cat:"Life/Health",title:"スマートシューズ",who:"ランナー、健康志向の人",pain:"ランニングフォームが正しいかわからない、怪我が心配",solution:"靴底のセンサーで着地や重心移動を解析し、スマホでリアルタイムにコーチング。",uvp:"足元からの健康管理",kgi:"怪我の発生率低下",tech:"圧力センサー、IoT",risk:"耐久性、バッテリー",timing:"ランニングブーム",score_kando:{k:3,s:3,n:2},score_exec:{feat:5,test:5,strat:3}},
        {id:21,author:"浜野",cat:"Life/Health",title:"香りのタイムカプセル",who:"思い出を鮮明に残したい人",pain:"時間が経つと写真を見ても当時の感情や記憶が薄れてしまう",solution:"写真撮影時に環境の香りをキャプチャし、AIで分析。写真閲覧時にその香りを再現するデバイス。",uvp:"写真＋香りを記録し、プルースト効果で記憶を鮮明に再生。",kgi:"記憶の鮮明度評価",tech:"高感度センサー、嗅覚ディスプレイ",risk:"香りの再現精度、メンテナンス",timing:"記憶・感情科学への関心の高まり、センサー技術の発展",score_kando:{k:5,s:3,n:4},score_exec:{feat:4,test:5,strat:4}},
        {id:22,author:"浜野",cat:"AI/Robotics",title:"ペット翻訳機",who:"ペットオーナー",pain:"ペットの気持ちがわからず、体調不良やストレスに気づけない",solution:"鳴き声や行動をAIが解析し、感情を言語化してアプリに表示。",uvp:"ペットとの真の対話",kgi:"ペットのストレス値低下",tech:"音声解析、行動分析AI",risk:"解釈の正確性",timing:"ペット市場の拡大",score_kando:{k:4,s:3,n:3},score_exec:{feat:4,test:4,strat:4}},
        {id:23,author:"浜野",cat:"Creative",title:"デジタル箱庭",who:"VR酔いしやすいクリエイター",pain:"VRは酔いやすく、長時間の創作活動が難しい",solution:"裸眼で立体視が可能な小型ディスプレイとモーションセンサーで、手のひらの上にデジタルコンテンツを操作・配置。",uvp:"裸眼立体視ディスプレイで手の中に世界を作る。",kgi:"ユーザーの創作時間",tech:"裸眼立体視ディスプレイ、センサー技術",risk:"解像度、価格、視野角",timing:"メタバースの成長、裸眼3D技術の進化",score_kando:{k:3,s:4,n:3},score_exec:{feat:4,test:5,strat:4}},
        {id:24,author:"中尾",cat:"Life/Health",title:"自動雨よけ",who:"洗濯物を干す人",pain:"外出中に急な雨で洗濯物が濡れてしまう",solution:"雨センサーが雨を検知すると、自動で展開し洗濯物を覆う防水カバー。",uvp:"雨検知で自動展開",kgi:"洗濯物が濡れた回数の減少",tech:"センサー技術、自動展開機構",risk:"強風への耐性、センサーの誤作動",timing:"IoT家電の普及、共働き世帯の増加",score_kando:{k:3,s:2,n:2},score_exec:{feat:5,test:5,strat:3}},
        {id:25,author:"中尾",cat:"Life/Health",title:"睡眠最適化ベッド",who:"睡眠の質を上げたい人",pain:"なかなか寝付けない、朝起きるのが辛い",solution:"体温や心拍数に合わせて温度や硬さを自動調整し、最適な睡眠環境を提供するベッド。",uvp:"パーソナライズされた睡眠環境",kgi:"睡眠効率スコア",tech:"バイタルセンシング、温度制御",risk:"高価格、故障時の対応",timing:"スリープテック市場の成長",score_kando:{k:3,s:3,n:2},score_exec:{feat:3,test:3,strat:4}},
        {id:26,author:"伊達",cat:"Creative",title:"夢録画",who:"夢を覚えていたい人",pain:"面白い夢を見ても、起きたら忘れてしまう",solution:"脳波を解析して夢の内容を映像化し、保存するデバイス。",uvp:"潜在意識の映像化",kgi:"夢の再生回数",tech:"ブレイン・マシン・インターフェース(BMI)",risk:"技術的未熟さ、プライバシー",timing:"脳科学の進展（まだ早いかも）",score_kando:{k:5,s:4,n:5},score_exec:{feat:1,test:1,strat:5}},
        {id:27,author:"伊達",cat:"Communication",title:"香りキー (生体認証)",who:"セキュリティと利便性を求める人",pain:"指紋・顔認証、パスワード入力の手間",solution:"個人の体臭（揮発性有機化合物）をセンサーで瞬時に解析し、生体認証キーとして利用。",uvp:"体臭で認証する究極のハンズフリー・セキュリティ。",kgi:"認証成功率と速度",tech:"高感度センサー、AI(パターン認識)",risk:"認証の安定性、体調による変動",timing:"生体認証技術の進化、プライバシー意識の高まり",score_kando:{k:2,s:4,n:5},score_exec:{feat:3,test:4,strat:5}},
        {id:28,author:"真田",cat:"AI/Robotics",title:"AI弁護士",who:"法的トラブルを抱える個人",pain:"弁護士費用が高く、気軽に相談できない",solution:"過去の判例を学習したAIが、法的アドバイスや書類作成を行う。",uvp:"安価で即時性の高い法的支援",kgi:"相談件数、解決率",tech:"自然言語処理、法律データベース",risk:"責任の所在、法規制",timing:"リーガルテックの普及",score_kando:{k:2,s:2,n:3},score_exec:{feat:4,test:3,strat:4}},
        {id:29,author:"真田",cat:"AI/Robotics",title:"ココミミ (AIミラー)",who:"心のケアを必要とする人",pain:"誰とも話したくないが、心のどこかで寂しさを感じている",solution:"AIが表情や声のトーンを解析し、鏡のディスプレイ上に感情に合った抽象的な視覚表現（色、光など）を投影。",uvp:"表情を読み取り、鏡が静かに寄り添い共感してくれる。",kgi:"ユーザーの自己肯定感スコア",tech:"AI(感情認識)、ディスプレイ技術",risk:"依存性、プライバシーの侵害",timing:"メンタルヘルス意識の高まり、AI技術の日常浸透",score_kando:{k:5,s:4,n:3},score_exec:{feat:4,test:4,strat:4}},
        {id:30,author:"浜野",cat:"AV/Immersive",title:"パーソナライズラジオ",who:"情報選別を面倒に感じる人",pain:"必要な情報を得るために、多くのコンテンツから選別する手間がある",solution:"AIがユーザーの行動・興味を分析し、ニュース、音楽、ポッドキャストなどをシームレスに編集・放送する。",uvp:"AIが興味に合わせて番組を自動編成する自分専用放送局。",kgi:"利用継続率",tech:"AI(レコメンデーション)、音声合成",risk:"情報の偏り（フィルターバブル）、著作権",timing:"音声コンテンツの復権、AIによるコンテンツ自動生成の進化",score_kando:{k:3,s:4,n:3},score_exec:{feat:4,test:4,strat:4}},
        {id:31,author:"浜野",cat:"Life/Health",title:"感情共有デバイス",who:"遠距離カップル、家族",pain:"テキストや通話だけでは感情が伝わりにくい",solution:"脈拍や皮膚電気活動から感情を推定し、光や振動で相手のデバイスに伝える。",uvp:"言葉にできない感情の伝達",kgi:"コミュニケーション満足度",tech:"ウェアラブルセンサー、触覚フィードバック",risk:"誤解、プライバシー",timing:"非言語コミュニケーションの重要性再認識",score_kando:{k:4,s:3,n:4},score_exec:{feat:3,test:3,strat:3}},
        {id:32,author:"浜野",cat:"Life/Health",title:"BackDodge (第六感)",who:"都市部の歩行者",pain:"背後からの衝突や危険な接近に気づきにくい",solution:"背中や服に装着する超小型センサーが背後の動きや接近を検知し、振動や音でユーザーに警告。",uvp:"背面センサと振動で接近を通知。「第六感」のテクノロジー化。",kgi:"衝突事故の減少率",tech:"超音波/赤外線センサー、触覚フィードバック",risk:"誤検知の多発、装着の手間",timing:"都市生活のストレス増加、ウェアラブルセンサーの小型化",score_kando:{k:3,s:4,n:5},score_exec:{feat:4,test:5,strat:4}},
        {id:33,author:"里平",cat:"Other",title:"植物発電キット",who:"環境教育、インテリア",pain:"身近なエネルギー生成の体験が少ない",solution:"植物が光合成をする際に土壌に放出する電子を利用して発電するキット。",uvp:"植物を育てるだけでスマホ充電",kgi:"発電効率",tech:"微生物燃料電池",risk:"発電量の少なさ",timing:"サステナビリティへの関心",score_kando:{k:3,s:3,n:4},score_exec:{feat:2,test:3,strat:3}},
        {id:34,author:"歌丸",cat:"AV/Immersive",title:"白紙の本 (AR Book)",who:"紙の本の手触りを好む読書家",pain:"紙の本の手触り感とデジタルの利便性の両立が難しい",solution:"本自体は手触りの良い白紙だが、ARグラスを装着するとページに文章やイラストが表示される。",uvp:"白紙の本＋ARグラス。アナログな体験とデジタル情報の融合。",kgi:"読書平均時間",tech:"ARグラス、触覚フィードバック",risk:"ARグラスの普及率、紙の質感の再現性",timing:"ARデバイスの高性能化、アナログとデジタルの融合",score_kando:{k:4,s:3,n:4},score_exec:{feat:3,test:4,strat:4}},
        {id:35,author:"歌丸",cat:"Creative",title:"空間お絵描き",who:"子供、アーティスト",pain:"2次元のキャンバスでは表現に限界がある",solution:"ARグラスと専用ペンを使い、空間に3Dの絵を描くことができる。",uvp:"空間そのものをキャンバスに",kgi:"作品投稿数",tech:"AR、空間認識",risk:"操作の難易度",timing:"XRデバイスの普及",score_kando:{k:4,s:4,n:3},score_exec:{feat:4,test:4,strat:4}},
        {id:36,author:"伊達",cat:"Life/Health",title:"自分探しアプリ",who:"進路に悩む学生、転職希望者",pain:"自分が何をしたいのか、何に向いているのかわからない",solution:"日々の行動ログやSNSの投稿をAIが分析し、潜在的な興味や適性を可視化。",uvp:"AIによる客観的な自己分析",kgi:"進路決定率",tech:"行動分析、自然言語処理",risk:"プライバシー、過度な誘導",timing:"キャリア形成の多様化",score_kando:{k:2,s:2,n:2},score_exec:{feat:5,test:5,strat:3}},
        {id:37,author:"伊達",cat:"Communication",title:"バーチャル分身",who:"多忙な人、有名人",pain:"体が一つしかなく、複数の場所に同時に存在できない",solution:"自分の外見と声を模したアバターが、メタバース空間で代わりに会議やイベントに参加。",uvp:"身体的制約からの解放",kgi:"同時参加イベント数",tech:"アバター生成、音声合成",risk:"なりすまし、アイデンティティの喪失",timing:"メタバースの普及",score_kando:{k:3,s:3,n:4},score_exec:{feat:3,test:3,strat:4}},
        {id:38,author:"真田",cat:"Other",title:"昆虫食メーカー",who:"サステナブルな食生活に関心がある人",pain:"昆虫食は見た目の抵抗感があり、普及しにくい",solution:"昆虫を粉末化し、3Dプリンターで美味しそうな見た目の食品に再形成する調理家電。",uvp:"見た目の抵抗感をなくした高タンパク食",kgi:"昆虫食の喫食率",tech:"フード3Dプリンター",risk:"心理的ハードル、食品衛生",timing:"食糧危機への懸念",score_kando:{k:2,s:2,n:4},score_exec:{feat:3,test:3,strat:3}},
        {id:39,author:"真田",cat:"AI/Robotics",title:"ゴミ拾いドローン",who:"自治体、イベント運営者",pain:"広範囲のゴミ拾いは人手と時間がかかる",solution:"上空からゴミを認識し、アームで回収する自律飛行ドローン。",uvp:"広範囲の清掃自動化",kgi:"ゴミ回収量",tech:"ドローン、画像認識、ロボットアーム",risk:"安全性、バッテリー、法規制",timing:"環境美化意識の向上",score_kando:{k:3,s:3,n:3},score_exec:{feat:3,test:3,strat:4}},
        {id:40,author:"伊達",cat:"Creative",title:"Behavior Synth",who:"音楽制作に興味がある非専門家",pain:"作曲スキルがなく、自分の感情を音楽で表現できない",solution:"ウェアラブルデバイスが心拍、歩行リズム、位置情報などを取得し、それらをパラメータとしてAIが即興で音楽を生成。",uvp:"日常の振る舞いがそのまま音楽になるシンセサイザー。",kgi:"生成された楽曲の公開数",tech:"AI(音楽生成)、バイオセンシング",risk:"音楽の品質、ユーザーの解釈とのズレ",timing:"AIによる創作支援の一般化、非同期なコミュニケーションの増加",score_kando:{k:4,s:5,n:4},score_exec:{feat:3,test:3,strat:5}},
        {id:41,author:"浜野",cat:"Life/Health",title:"スマートゴミ箱",who:"ゴミ捨てを面倒に感じる人",pain:"ゴミの分別が面倒、ゴミ出しのタイミングを忘れがち",solution:"投入されたゴミのバーコードや形状をAIが認識し、正しい分別を指示。自動でゴミ出し通知も行う。",uvp:"バーコード管理で分別・在庫管理",kgi:"分別ミスの減少率",tech:"AI(画像認識)、IoTデバイス",risk:"ゴミ箱自体の洗浄・衛生面、価格",timing:"スマートホームの普及、環境意識の高まり",score_kando:{k:2,s:3,n:3},score_exec:{feat:4,test:4,strat:4}},
        {id:42,author:"浜野",cat:"Life/Health",title:"姿勢矯正チェア",who:"デスクワーカー",pain:"長時間の座り仕事で姿勢が悪くなり、腰痛になる",solution:"座り方をセンサーで検知し、姿勢が悪くなると座面が動いて自然に矯正する。",uvp:"座るだけで姿勢改善",kgi:"腰痛改善率",tech:"圧力センサー、アクチュエーター",risk:"座り心地の悪化",timing:"リモートワークの定着",score_kando:{k:2,s:2,n:2},score_exec:{feat:5,test:5,strat:3}},
        {id:43,author:"里平",cat:"Other",title:"瞬間冷却缶",who:"アウトドア好き、暑がりの人",pain:"屋外で冷たい飲み物を飲みたいが、すぐにぬるくなる",solution:"ボタンを押すと化学反応で一瞬にして中身が冷却される缶。",uvp:"電源不要の瞬間冷却",kgi:"販売数",tech:"吸熱反応",risk:"コスト、安全性",timing:"猛暑対策",score_kando:{k:3,s:2,n:3},score_exec:{feat:4,test:4,strat:3}},
        {id:44,author:"浜野",cat:"AV/Immersive",title:"サウンドアロー",who:"騒がしい場所で会話が困難な人",pain:"騒がしい場所や広い会場で特定の相手との会話が聞き取りにくい",solution:"超指向性スピーカー/マイク技術を用い、周囲のノイズを遮断し、特定の人物との会話をクリアにするポータブルデバイス。",uvp:"超指向性スピーカーで特定の人にだけ声を届ける",kgi:"会話の聞き取りやすさスコア",tech:"超指向性音響技術",risk:"音の漏れ、音質の調整",timing:"音響技術の進化、公共空間の多様化",score_kando:{k:2,s:5,n:3},score_exec:{feat:4,test:4,strat:4}},
        {id:45,author:"真田",cat:"AI/Robotics",title:"可変ハイヒール",who:"TPOに合わせて靴を変えるのが面倒な人",pain:"TPO（時間、場所、場合）で靴を履き替えなければならない",solution:"靴底に小型のアクチュエーターを搭載し、スマホや環境に応じてヒールの高さを1cm単位で瞬時に変更。",uvp:"ロボティクス技術でヒールの高さを自動調整。",kgi:"靴の平均着用回数",tech:"小型アクチュエーター、ロボティクス",risk:"耐久性、安定性、デザイン性",timing:"スマートウェア市場の成長、精密機械の小型化",score_kando:{k:4,s:3,n:4},score_exec:{feat:3,test:4,strat:4}},
        {id:46,author:"中尾",cat:"Life/Health",title:"カロリー見える化グラス",who:"ダイエット中の人",pain:"食事のたびにカロリーを計算するのが面倒",solution:"ARグラスで食べ物を見ると、AIがカロリーと栄養素を推定して表示。",uvp:"見るだけでカロリー管理",kgi:"ダイエット成功率",tech:"画像認識、AR",risk:"推定精度、食事の楽しみの減退",timing:"ヘルスケア意識の向上",score_kando:{k:3,s:3,n:3},score_exec:{feat:3,test:3,strat:4}},
        {id:47,author:"里平",cat:"AV/Immersive",title:"Horizon Navigation",who:"運転中のナビゲーションに煩わしさを感じるドライバー",pain:"運転中のナビゲーション画面が視線移動を伴い危険",solution:"超小型プロジェクターを搭載した車載デバイスがフロントガラスに直接、ルート案内や危険警告を投影する。",uvp:"フロントガラスARで道路に直接ルートを描画。",kgi:"運転中の視線移動時間減少率",tech:"AR/プロジェクション技術、センサーフュージョン",risk:"屋外での輝度、情報の多すぎる表示",timing:"自動運転技術の発展、AR技術の車載応用",score_kando:{k:3,s:4,n:4},score_exec:{feat:3,test:4,strat:5}},
        {id:48,author:"里平",cat:"Life/Health",title:"MEMORY SEED",who:"思い出を大切にする人",pain:"デジタル思い出は膨大で、見返すことなく埋もれていく",solution:"写真や動画を「種」に見立て、水（インタラクション）を与えると、美しいディスプレイの中で「花」として再生されるIoTデバイス。",uvp:"水をあげて思い出を「育てる」デバイス。記憶が花開く体験。",kgi:"月間再生頻度",tech:"AI(画像解析)、IoTデバイス",risk:"デバイスのデザイン性とインテリア性",timing:"デジタルデトックス、アナログ回帰のトレンド",score_kando:{k:5,s:4,n:5},score_exec:{feat:3,test:5,strat:5}},
        {id:49,author:"伊達",cat:"Other",title:"どこでもドア（VRドア）",who:"遠距離恋愛、単身赴任",pain:"物理的な距離があり、すぐに会えない",solution:"等身大のディスプレイを備えたドア型デバイス。開けると相手の部屋とつながり、臨場感のある通話が可能。",uvp:"空間をつなぐドア",kgi:"利用時間",tech:"大型ディスプレイ、高速通信",risk:"設置スペース、価格",timing:"通信インフラの高速化",score_kando:{k:4,s:3,n:3},score_exec:{feat:3,test:3,strat:3}},
        {id:50,author:"歌丸",cat:"Creative",title:"思考盗聴ライター",who:"作家、ライター",pain:"アイデアが浮かんでも、文字にするのが遅くて消えてしまう",solution:"脳波を読み取り、考えていることをそのままテキスト化するデバイス。",uvp:"思考の速度で執筆",kgi:"執筆速度の向上",tech:"BMI、自然言語処理",risk:"精度の限界、プライバシー",timing:"BMI技術の進展",score_kando:{k:5,s:4,n:5},score_exec:{feat:1,test:1,strat:5}},
        {id:51,author:"中尾",cat:"Life/Health",title:"絶対起きられる目覚まし",who:"朝に弱い人",pain:"目覚まし時計を止めて二度寝してしまう",solution:"ベッドが物理的に変形して人を起こす、または強烈な光と音で覚醒を促す。",uvp:"強制的な起床",kgi:"二度寝率0%",tech:"メカトロニクス",risk:"安全性、不快感",timing:"睡眠課題の解決ニーズ",score_kando:{k:2,s:1,n:3},score_exec:{feat:5,test:5,strat:3}},
        {id:52,author:"真田",cat:"AI/Robotics",title:"PawBot (片付けロボ)",who:"片付けが苦手な家庭",pain:"部屋が散らかり、どこに何があるかわからなくなる",solution:"AIが物を認識し、可愛らしい鳴き声や動きで片付けを促す小型ロボット。AIBOのような愛着デザイン。",uvp:"「かわいさ」で片付けを促すパートナーロボット。AIBOの家事版。",kgi:"部屋の片付け完了率",tech:"AI(物体認識)、ロボティクス(愛玩性)",risk:"実用性の限界、高価格化",timing:"AIBO成功体験の活用、家庭内ロボット需要の増加",score_kando:{k:4,s:4,n:3},score_exec:{feat:4,test:3,strat:4}},
        {id:53,author:"伊達",cat:"Creative",title:"Behavior Soundscape",who:"ありのままの自分を表現したい人",pain:"自身の感情や行動を言葉以外で表現する手段がない",solution:"バイタルセンサーとAIを搭載したウェアラブルデバイスで行動パターンをリアルタイム解析し、音楽として出力。",uvp:"心拍・表情・行動を音楽に変換。「私が音になる」体験。",kgi:"音楽共有プラットフォーム上での楽曲利用数",tech:"AI(行動解析)、センサー技術",risk:"プライバシー、データの倫理的な使用",timing:"個の表現欲求の高まり、ウェアラブル技術の成熟",score_kando:{k:5,s:5,n:5},score_exec:{feat:3,test:4,strat:5}},
        {id:54,author:"浜野",cat:"Communication",title:"空気読みメガネ",who:"空気が読めないと言われる人",pain:"会話の間や相手の感情を読み取るのが苦手",solution:"相手の表情や声色から感情を分析し、適切な返答やタイミングをグラスに表示。",uvp:"コミュニケーションの補助",kgi:"人間関係のトラブル減少",tech:"感情認識AI、AR",risk:"依存、不自然な会話",timing:"コミュ力向上ニーズ",score_kando:{k:3,s:3,n:3},score_exec:{feat:4,test:4,strat:4}},
        {id:55,author:"里平",cat:"Life/Health",title:"集中力可視化ランプ",who:"テレワーカー、受験生",pain:"集中力が続かない、いつ休憩すべきかわからない",solution:"脳波や視線から集中度を測定し、ランプの色で表示。休憩のタイミングを通知。",uvp:"集中力のマネジメント",kgi:"学習・作業効率の向上",tech:"センシング、IoT",risk:"ストレス",timing:"生産性向上ニーズ",score_kando:{k:3,s:2,n:2},score_exec:{feat:5,test:5,strat:4}},
        {id:56,author:"歌丸",cat:"AV/Immersive",title:"SilentSphere",who:"集中したいワーカー",pain:"オフィスやカフェの雑音、オンライン会議のノイズ",solution:"超音波とノイズキャンセリング技術を組み合わせ、特定の空間・人物にだけ静寂を提供するポータブルデバイス。",uvp:"見えない音のバリアを作るポータブル空間ノイズキャンセラ。",kgi:"会議中の集中度向上率",tech:"超指向性音響、ノイズキャンセリング技術",risk:"効果範囲の限定、他の利用者への影響",timing:"リモートワークの定着、オープンオフィス化",score_kando:{k:3,s:5,n:5},score_exec:{feat:5,test:4,strat:4}}
    ];

    let currentCategory = 'all';
    let currentAuthor = 'all';
    const LOCAL_STORAGE_KEY = 'personalScores_v13'; 
    const AI_SCORE_TOGGLE_KEY = 'aiScoreHidden';
    let personalScores = {};

    // マッピング
    function normalizeCategory(cat) {
        const map = {
            "生活/ヘルスケア": "Life/Health", "AV/没入体験": "AV/Immersive", "AI/ロボット": "AI/Robotics",
            "通信/交流": "Communication", "クリエイティブ": "Creative", "その他": "Other"
        };
        return map[cat] || cat;
    }

    function init() {
        loadPersonalScores();
        rawData.forEach(item => {
            item.cat = normalizeCategory(item.cat);
            item.totalKandoScore = item.score_kando.k + item.score_kando.s + item.score_kando.n;
            item.totalExecScore = item.score_exec.feat + item.score_exec.test + item.score_exec.strat;
            item.totalScore = item.totalKandoScore + item.totalExecScore;

            if(item.totalScore >= 26) item.rank = 'S'; else if(item.totalScore >= 22) item.rank = 'A'; else item.rank = 'B';

            const personal = personalScores[item.id] || {};
            personal.kando = Number(personal.kando) || 0; personal.sony = Number(personal.sony) || 0; personal.newness = Number(personal.newness) || 0;
            personal.feat = Number(personal.feat) || 0; personal.test = Number(personal.test) || 0; personal.strat = Number(personal.strat) || 0;
            personal.note = personal.note || '';

            item.personalScore = personal;
            item.personalTotalKando = personal.kando + personal.sony + personal.newness;
            item.personalTotalExec = personal.feat + personal.test + personal.strat;
            item.personalTotal = item.personalTotalKando + item.personalTotalExec;
        });

        const isHidden = localStorage.getItem(AI_SCORE_TOGGLE_KEY) === 'true';
        document.getElementById('aiScoreToggle').checked = isHidden;
        document.body.classList.toggle('hide-ai-scores', isHidden);

        const activeTab = document.querySelector('.page-tab-btn.active');
        if (activeTab) changePage(activeTab.id.replace('tab', '').toLowerCase());
        else changePage('grid');

        populateAuthorFilter();
    }

    function loadPersonalScores() {
        const stored = localStorage.getItem(LOCAL_STORAGE_KEY);
        if (stored) { try { personalScores = JSON.parse(stored); } catch(e) { personalScores = {}; } }
    }

    function savePersonalScores(id, kando, sony, newness, feat, test, strat, note) {
        personalScores[id] = { 
            kando: Number(kando)||0, sony: Number(sony)||0, newness: Number(newness)||0, 
            feat: Number(feat)||0, test: Number(test)||0, strat: Number(strat)||0, note: note||'' 
        };
        localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(personalScores));
        init(); 
    }

    function toggleAIScores() {
        const isHidden = document.getElementById('aiScoreToggle').checked;
        document.body.classList.toggle('hide-ai-scores', isHidden);
        localStorage.setItem(AI_SCORE_TOGGLE_KEY, isHidden);
    }

    function populateAuthorFilter() {
        const authorSelect = document.getElementById('authorSelect');
        authorSelect.innerHTML = '<option value="all">作成者: 全員</option>';
        const allAuthors = [...new Set(rawData.map(item => item.author))].filter(a => a !== 'all');
        
        let hamanoAuthor = [], unknownAuthorArray = [], others = [];
        allAuthors.forEach(author => {
            if (author === '浜野') hamanoAuthor.push(author);
            else if (author === '-') unknownAuthorArray.push(author);
            else others.push(author);
        });
        others.sort((a, b) => a.localeCompare(b, 'ja'));
        others.concat(hamanoAuthor).concat(unknownAuthorArray).forEach(author => {
            const option = document.createElement('option');
            option.value = author;
            option.textContent = author === '-' ? '不明' : author;
            authorSelect.appendChild(option);
        });
        if (authorSelect.querySelector(`option[value="${currentAuthor}"]`)) authorSelect.value = currentAuthor;
        else currentAuthor = 'all';
    }

    function setCategory(cat, element) {
        currentCategory = cat;
        document.querySelectorAll('#categoryTabs .tab-btn').forEach(btn => btn.classList.remove('active'));
        if(element) element.classList.add('active');
        render();
    }
    
    function changePage(page) {
        document.getElementById('gridPage').style.display = 'none';
        document.getElementById('summaryPage').style.display = 'none';
        document.querySelectorAll('.page-tab-btn').forEach(btn => btn.classList.remove('active'));

        if (page === 'grid') {
            document.getElementById('gridPage').style.display = 'block';
            document.getElementById('tabGrid').classList.add('active');
            render();
        } else if (page === 'summary') {
            document.getElementById('summaryPage').style.display = 'block';
            document.getElementById('tabSummary').classList.add('active');
            renderSummary();
        }
    }

    function getAIAnalysis(item) {
        const scores = [
            { key: '実現可能性', val: item.score_exec.feat, advice: '技術的難易度が高い可能性があります。既存技術の転用やMVPの簡素化を検討してください。' },
            { key: '検証容易性', val: item.score_exec.test, advice: '検証が難しいと判断されています。まずはコア機能のみを切り出したプロトタイプで反応を見ましょう。' },
            { key: '戦略的適合性', val: item.score_exec.strat, advice: '事業の広がりや優位性が不明確です。Sonyの資産活用や参入障壁の構築を強化してください。' },
            { key: '感動', val: item.score_kando.k, advice: 'ユーザーの心を動かす「感動」要素が不足しています。機能だけでなく感情価値を訴求しましょう。' },
            { key: 'Sonyらしさ', val: item.score_kando.s, advice: 'Sonyならではの要素が希薄です。映像・音響・AIなど、技術資産をどう活かすか具体化が必要です。' },
            { key: '新奇性', val: item.score_kando.n, advice: '新奇性が低く、既存の解決策と差別化できていません。ターゲットや利用シーンをずらしてみましょう。' }
        ];
        let minItem = scores[0], maxItem = scores[0];
        scores.forEach(s => { if (s.val < minItem.val) minItem = s; if (s.val >= maxItem.val) maxItem = s; });

        let good = `「${maxItem.key}」が高評価です。`;
        if (maxItem.val === 5) good = `卓越した「${maxItem.key}」があり、非常に魅力的です。`;
        let bad = `課題は「${minItem.key}」です。${minItem.advice}<br><span style="font-size:0.8rem; color:#666;">(リスク: ${item.risk})</span>`;
        return { good, bad };
    }

    function render() {
        if(document.getElementById('gridPage').style.display === 'none') return;
        const grid = document.getElementById('grid');
        grid.innerHTML = '';

        currentAuthor = document.getElementById('authorSelect').value;
        const sortType = document.getElementById('sortSelect').value;

        let filtered = rawData.filter(item => {
            if (currentCategory !== 'all' && item.cat !== currentCategory) return false;
            if (currentAuthor !== 'all' && item.author !== currentAuthor) return false;
            return true;
        });
        
        document.getElementById('displayCount').innerText = `全 ${filtered.length} 件`;

        filtered.sort((a, b) => {
            if (sortType === 'personal_score') return b.personalTotal - a.personalTotal;
            if (sortType === 'total_ai_score') return b.totalScore - a.totalScore;
            if (sortType === 'id') return (parseInt(String(a.id))||999) - (parseInt(String(b.id))||999);
            return 0;
        });

        filtered.forEach(item => {
            const card = document.createElement('div');
            card.className = 'card';
            card.setAttribute('onclick', `openModal('${item.id}')`);

            let rankHtml = '';
            if (item.rank === 'S') rankHtml = `<div class="rank-badge rank-s">S Rank</div>`;
            else if (item.rank === 'A') rankHtml = `<div class="rank-badge rank-a">A Rank</div>`;

            const wPersonalKando = (item.personalTotalKando / 30) * 100;
            const wPersonalExec = (item.personalTotalExec / 30) * 100;
            const wAIKando = (item.totalKandoScore / 30) * 100;
            const wAIExec = (item.totalExecScore / 30) * 100;

            let commentHtml = '';
            if (item.personalScore.note && item.personalScore.note.trim() !== '') {
                const noteText = item.personalScore.note.length > 40 ? item.personalScore.note.substring(0, 40) + '...' : item.personalScore.note;
                commentHtml = `<div style="margin-top:6px; font-size:0.8rem; color:#444; background:#E0F2F1; padding:4px 6px; border-radius:4px;">📝 ${noteText}</div>`;
            }

            const personalScoreSection = `
                <div class="score-detail-text">
                    <span class="score-label-personal">あなた: ${item.personalTotal}点</span>
                    ${item.personalTotal > 0 ? `<span style="font-size:0.7rem;">(情:${item.personalTotalKando}/実:${item.personalTotalExec})</span>` : '<span style="color:#999;">(未評価)</span>'}
                </div>
                <div class="score-bar-container personal-score-container">
                    <div class="bar-segment-emotional" style="width:${wPersonalKando}%"></div>
                    <div class="bar-segment-execution" style="width:${wPersonalExec}%"></div>
                </div>
            `;
            
            const aiScoreSection = `
                <div class="score-detail-text score-label-ai">
                    <span>AI評価: ${item.totalScore}点</span>
                </div>
                <div class="score-bar-container ai-total-score-container">
                    <div class="bar-segment-emotional" style="width:${wAIKando}%"></div>
                    <div class="bar-segment-execution" style="width:${wAIExec}%"></div>
                </div>
            `;
            
            const analysis = getAIAnalysis(item);
            const aiCommentHtml = `
                <div class="ai-comment-box">
                    <div class="ai-comment-row good"><span class="ai-comment-icon">✨</span><span>${analysis.good}</span></div>
                    <div class="ai-comment-row bad"><span class="ai-comment-icon">⚡</span><span style="color:#C53030; font-weight:bold;">${analysis.bad}</span></div>
                </div>
            `;

            card.innerHTML = `
                ${rankHtml}
                <div class="card-header">
                    <div class="meta-row">
                        <span class="tag">No.${item.id}</span>
                        <span class="tag author">${item.author === '-' ? '不明' : item.author}</span>
                        <span class="tag cat">${item.cat}</span>
                    </div>
                    <h3 class="card-title">${item.title}</h3>
                    ${personalScoreSection}
                    ${commentHtml}
                    ${aiScoreSection}
                    ${aiCommentHtml}
                </div>
                <div class="card-body">
                    <div style="font-size:0.8rem; color:#666; margin-bottom:5px;"><strong>ターゲット:</strong> ${item.who || '-'}</div>
                    <div class="uvp-box"><strong>価値:</strong> ${item.uvp}</div>
                </div>
            `;
            grid.appendChild(card);
        });
    }

    function openModal(id) {
        const item = rawData.find(d => (String(d.id) === id));
        if (!item) return;

        document.getElementById('modalTitle').textContent = item.title;
        document.getElementById('modalMeta').innerHTML = `<span class="tag author">記入者: ${item.author}</span><span class="tag cat">カテゴリ: ${item.cat}</span>`;
        document.getElementById('modalUVP').textContent = item.uvp;
        document.getElementById('modalWho').textContent = item.who || '-';
        document.getElementById('modalPain').textContent = item.pain || '-';
        document.getElementById('modalSolution').textContent = item.solution || '-';
        document.getElementById('modalKGI').textContent = item.kgi || '-';
        document.getElementById('modalTech').textContent = item.tech || '-';
        document.getElementById('modalRisk').textContent = item.risk || '-';
        document.getElementById('modalTiming').textContent = item.timing || '-';

        document.getElementById('modalAIScoreKando').innerHTML = `感動: <strong>${item.score_kando.k}</strong>, Sony: <strong>${item.score_kando.s}</strong>, 新奇: <strong>${item.score_kando.n}</strong>`;
        document.getElementById('modalAIScoreExec').innerHTML = `実現性: <strong>${item.score_exec.feat}</strong>, 検証: <strong>${item.score_exec.test}</strong>, 戦略: <strong>${item.score_exec.strat}</strong>`;

        document.getElementById('modalIdeaId').value = item.id;
        const p = item.personalScore;
        document.getElementById('personalKando').value = p.kando || '';
        document.getElementById('personalSony').value = p.sony || '';
        document.getElementById('personalNewness').value = p.newness || '';
        document.getElementById('personalFeat').value = p.feat || '';
        document.getElementById('personalTest').value = p.test || '';
        document.getElementById('personalStrat').value = p.strat || '';
        document.getElementById('personalNote').value = p.note || '';
        updatePersonalTotal();

        document.getElementById('evaluationModal').style.display = 'flex';
    }

    function closeModal() {
        document.getElementById('evaluationModal').style.display = 'none';
    }

    function updatePersonalTotal() {
        const k = parseInt(document.getElementById('personalKando').value)||0;
        const s = parseInt(document.getElementById('personalSony').value)||0;
        const n = parseInt(document.getElementById('personalNewness').value)||0;
        const f = parseInt(document.getElementById('personalFeat').value)||0;
        const t = parseInt(document.getElementById('personalTest').value)||0;
        const st = parseInt(document.getElementById('personalStrat').value)||0;
        document.getElementById('personalTotalDisplay').textContent = k+s+n+f+t+st;
    }

    function savePersonalScore() {
        const id = document.getElementById('modalIdeaId').value;
        savePersonalScores(
            id,
            document.getElementById('personalKando').value,
            document.getElementById('personalSony').value,
            document.getElementById('personalNewness').value,
            document.getElementById('personalFeat').value,
            document.getElementById('personalTest').value,
            document.getElementById('personalStrat').value,
            document.getElementById('personalNote').value
        );
        closeModal();
    }

    window.onclick = function(event) {
        if (event.target === document.getElementById('evaluationModal')) closeModal();
    }

    function exportPersonalScores() {
        const dataStr = JSON.stringify(personalScores, null, 2);
        const dataUri = 'data:application/json;charset=utf-8,' + encodeURIComponent(dataStr);
        const link = document.createElement('a');
        link.setAttribute('href', dataUri);
        link.setAttribute('download', `FutureProductLab_Scores_${new Date().toISOString().slice(0,10)}.json`);
        link.click();
        alert("保存しました。");
    }

    function importPersonalScoresFromFile(file) {
        if (!file) return;
        const reader = new FileReader();
        reader.onload = function(e) {
            try {
                const data = JSON.parse(e.target.result);
                if (confirm("現在の内容を上書きして読み込みますか？")) {
                    personalScores = data;
                    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(personalScores));
                    alert("読み込みました。");
                    init();
                }
            } catch (e) { alert("読み込み失敗"); }
            document.getElementById('importInput').value = '';
        };
        reader.readAsText(file);
    }

    // Summary Charts
    let radarChartInstance, categoryBarChartInstance, portfolioChartInstance;

    function renderSummary() {
        let aiSums = {k:0, s:0, n:0, f:0, t:0, st:0, count:0};
        let pSums = {k:0, s:0, n:0, f:0, t:0, st:0, count:0};
        let cats = {}; let userCats = {};
        let scatterData = [];

        rawData.forEach(d => {
            aiSums.k += d.score_kando.k; aiSums.s += d.score_kando.s; aiSums.n += d.score_kando.n;
            aiSums.f += d.score_exec.feat; aiSums.t += d.score_exec.test; aiSums.st += d.score_exec.strat;
            aiSums.count++;

            if(d.personalTotal > 0) {
                pSums.k += d.personalScore.kando; pSums.s += d.personalScore.sony; pSums.n += d.personalScore.newness;
                pSums.f += d.personalScore.feat; pSums.t += d.personalScore.test; pSums.st += d.personalScore.strat;
                pSums.count++;
                
                if(!userCats[d.cat]) userCats[d.cat] = {sum:0, count:0};
                userCats[d.cat].sum += d.personalTotal;
                userCats[d.cat].count++;
                
                scatterData.push({
                    x: d.personalTotalExec,
                    y: d.personalTotalKando,
                    title: d.title,
                    id: d.id
                });
            }

            if(!cats[d.cat]) cats[d.cat] = {sum:0, count:0};
            cats[d.cat].sum += d.totalScore;
            cats[d.cat].count++;
        });

        const aiAvg = [aiSums.k, aiSums.s, aiSums.n, aiSums.f, aiSums.t, aiSums.st].map(v => v/aiSums.count);
        const pAvg = pSums.count ? [pSums.k, pSums.s, pSums.n, pSums.f, pSums.t, pSums.st].map(v => v/pSums.count) : [0,0,0,0,0,0];
        document.getElementById('personalScoreCount').innerText = pSums.count;

        // Analysis Text
        const analysisEl = document.getElementById('userAnalysisText');
        if (pSums.count === 0) {
            analysisEl.innerHTML = "まだ採点データがありません。気になるアイデアを評価すると、ここに分析結果が表示されます。";
        } else {
            let maxCatName = ""; let maxCatScore = -1;
            for (let c in userCats) {
                let avg = userCats[c].sum / userCats[c].count;
                if (avg > maxCatScore) { maxCatScore = avg; maxCatName = c; }
            }
            let kandoAvg = (pSums.k + pSums.s + pSums.n) / pSums.count;
            let execAvg = (pSums.f + pSums.t + pSums.st) / pSums.count;
            let tendency = kandoAvg > execAvg ? "「情緒的価値（感動・ユニークさ）」" : "「実行価値（実現性・ビジネス）」";

            analysisEl.innerHTML = `
                <p>あなたは現在 <strong>${pSums.count}</strong> 件のアイデアを評価しています。</p>
                <ul style="margin-top:8px; padding-left:20px;">
                    <li>最も高く評価しているジャンルは <strong>「${maxCatName}」</strong> です。</li>
                    <li>評価の傾向として、${tendency} を重視する傾向が見られます。</li>
                </ul>
            `;
        }

        // 1. Category Bar Chart
        if(categoryBarChartInstance) categoryBarChartInstance.destroy();
        const catKeys = Object.keys(cats).sort((a,b) => (cats[b].sum/cats[b].count) - (cats[a].sum/cats[a].count));
        const userCatData = catKeys.map(k => userCats[k] ? (userCats[k].sum/userCats[k].count) : 0);
        
        categoryBarChartInstance = new Chart(document.getElementById('categoryBarChart'), {
            type: 'bar',
            data: {
                labels: catKeys,
                datasets: [
                    { label:'あなたの平均', data:userCatData, backgroundColor:'#009688' },
                    { label:'AI平均(参考)', data:catKeys.map(k=>cats[k].sum/cats[k].count), backgroundColor:'#E0E0E0' }
                ]
            },
            options: { scales:{y:{min:0, max:30}} }
        });

        // 2. Radar
        if(radarChartInstance) radarChartInstance.destroy();
        radarChartInstance = new Chart(document.getElementById('radarChart'), {
            type: 'radar',
            data: {
                labels: ['感動', 'Sony', '新奇', '実現', '検証', '戦略'],
                datasets: [
                    { label:'あなた平均', data:pAvg, borderColor:'#009688', backgroundColor:'rgba(0,150,136,0.2)' },
                    { label:'AI平均', data:aiAvg, borderColor:'#ccc', backgroundColor:'transparent', borderDash:[5,5] }
                ]
            },
            options: { scales: { r: { min:0, max:5, ticks:{stepSize:1} } } }
        });

        // 3. Portfolio Chart
        if(portfolioChartInstance) portfolioChartInstance.destroy();
        portfolioChartInstance = new Chart(document.getElementById('portfolioChart'), {
            type: 'scatter',
            data: {
                datasets: [{
                    label: 'あなたの評価済みアイデア',
                    data: scatterData,
                    backgroundColor: 'rgba(0, 150, 136, 0.6)',
                    borderColor: 'rgba(0, 150, 136, 1)',
                    pointRadius: 6
                }]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                scales: {
                    x: { title: { display: true, text: '実行価値' }, min: 0, max: 16 },
                    y: { title: { display: true, text: '情緒的価値' }, min: 0, max: 16 }
                },
                plugins: {
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                const pt = context.raw;
                                return `${pt.title} - 情緒:${pt.y}, 実行:${pt.x}`;
                            }
                        }
                    }
                }
            }
        });
    }

    init();
</script>
</body>
</html>
